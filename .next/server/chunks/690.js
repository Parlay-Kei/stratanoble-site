exports.id=690,exports.ids=[690],exports.modules={6524:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,i){var o=i&&i.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var a=Array(s);a[0]=o(e);for(var l=1;l<s;l++)a[l]=o(r[l]);return a.join(" ")}if("string"!=typeof e)return e;var u=r.length;if(0===u)return e;for(var c="",h=0,d=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(d=d>-1?d:0,e.charCodeAt(p+1)){case 100:case 102:if(h>=u||null==r[h])break;d<p&&(c+=e.slice(d,p)),c+=Number(r[h]),d=p+2,p++;break;case 105:if(h>=u||null==r[h])break;d<p&&(c+=e.slice(d,p)),c+=Math.floor(Number(r[h])),d=p+2,p++;break;case 79:case 111:case 106:if(h>=u||void 0===r[h])break;d<p&&(c+=e.slice(d,p));var m=typeof r[h];if("string"===m){c+="'"+r[h]+"'",d=p+2,p++;break}if("function"===m){c+=r[h].name||"<anonymous>",d=p+2,p++;break}c+=o(r[h]),d=p+2,p++;break;case 115:if(h>=u)break;d<p&&(c+=e.slice(d,p)),c+=String(r[h]),d=p+2,p++;break;case 37:d<p&&(c+=e.slice(d,p)),c+="%",d=p+2,p++,h--}++h}++p}return -1===d?e:(d<f&&(c+=e.slice(d)),c)}},7051:e=>{"use strict";e.exports={version:"9.7.0"}},10010:e=>{"use strict";e.exports={wait:function(e,t,r,i,o){let s=Date.now()+i,a=Atomics.load(e,t);if(a===r)return void o(null,"ok");let l=a,u=i=>{Date.now()>s?o(null,"timed-out"):setTimeout(()=>{l=a,(a=Atomics.load(e,t))===l?u(i>=1e3?1e3:2*i):a===r?o(null,"ok"):o(null,"not-equal")},i)};u(1)},waitDiff:function(e,t,r,i,o){let s=Date.now()+i,a=Atomics.load(e,t);if(a!==r)return void o(null,"ok");let l=i=>{Date.now()>s?o(null,"timed-out"):setTimeout(()=>{(a=Atomics.load(e,t))!==r?o(null,"ok"):l(i>=1e3?1e3:2*i)},i)};l(1)}}},10518:(e,t,r)=>{"use strict";let i=r(30208);e.exports=function({secret:e,serialize:t,wcLen:r,strict:o,isCensorFct:s,censorFctTakesPath:a},l){var u,c,h,d,f,p,m,y;let v=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${(u=o,c=t,!0===u?"throw Error('fast-redact: primitives cannot be redacted')":!1===c?"return o":"return this.serialize(o)")}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${(h=e,d=s,f=a,Object.keys(h).map(e=>{let{escPath:t,leadingBracket:r,path:o}=h[e],s=+!!r,a=r?"":".",l=[];for(;null!==(u=i.exec(e));){let[,e]=u,{index:t,input:r}=u;t>s&&l.push(r.substring(0,t-!e))}var u,c=l.map(e=>`o${a}${e}`).join(" && ");0===c.length?c+=`o${a}${e} != null`:c+=` && o${a}${e} != null`;let p=`
      switch (true) {
        ${l.reverse().map(e=>`
          case o${a}${e} === censor:
            secret[${t}].circle = ${JSON.stringify(e)}
            break
        `).join("\n")}
      }
    `,m=f?`val, ${JSON.stringify(o)}`:"val";return`
      if (${c}) {
        const val = o${a}${e}
        if (val === censor) {
          secret[${t}].precensored = true
        } else {
          secret[${t}].val = val
          o${a}${e} = ${d?`censor(${m})`:"censor"}
          ${p}
        }
      }
    `}).join("\n"))}
    this.compileRestore()
    ${(p=r>0,m=s,y=a,!0===p?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${m}, ${y})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${m}, ${y})
      }
    }
  `:"")}
    this.secret = originalSecret
    ${!1===t?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}
  `).bind(l);return v.state=l,!1===t&&(v.restore=e=>l.restore(e)),v}},13789:e=>{"use strict";e.exports=function(e){let{secret:t,censor:r,compileRestore:i,serialize:o,groupRedact:s,nestedRedact:a,wildcards:l,wcLen:u}=e,c=[{secret:t,censor:r,compileRestore:i}];return!1!==o&&c.push({serialize:o}),u>0&&c.push({groupRedact:s,nestedRedact:a,wildcards:l,wcLen:u}),Object.assign(...c)}},16374:(e,t,r)=>{"use strict";let{EventEmitter:i}=r(78474),{lsCacheSym:o,levelValSym:s,setLevelSym:a,getLevelSym:l,chindingsSym:u,parsedChindingsSym:c,mixinSym:h,asJsonSym:d,writeSym:f,mixinMergeStrategySym:p,timeSym:m,timeSliceIndexSym:y,streamSym:v,serializersSym:g,formattersSym:P,errorKeySym:b,messageKeySym:_,useOnlyCustomLevelsSym:T,needsMetadataGsym:E,redactFmtSym:S,stringifySym:w,formatOptsSym:O,stringifiersSym:x,msgPrefixSym:A,hooksSym:k}=r(69185),{getLevel:j,setLevel:C,isLevelEnabled:R,mappings:G,initialLsCache:D,genLsCache:I,assertNoLevelCollisions:N}=r(95821),{asChindings:$,asJson:L,buildFormatters:q,stringify:M}=r(98895),{version:F}=r(7051),B=r(36937),H={constructor:class{},child:function(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[g],i=this[P],o=Object.create(this);if(!0===t.hasOwnProperty("serializers")){for(let e in o[g]=Object.create(null),r)o[g][e]=r[e];let e=Object.getOwnPropertySymbols(r);for(var s=0;s<e.length;s++){let t=e[s];o[g][t]=r[t]}for(let e in t.serializers)o[g][e]=t.serializers[e];let i=Object.getOwnPropertySymbols(t.serializers);for(var l=0;l<i.length;l++){let e=i[l];o[g][e]=t.serializers[e]}}else o[g]=r;if(t.hasOwnProperty("formatters")){let{level:e,bindings:r,log:s}=t.formatters;o[P]=q(e||i.level,r||U,s||i.log)}else o[P]=q(i.level,U,i.log);if(!0===t.hasOwnProperty("customLevels")&&(N(this.levels,t.customLevels),o.levels=G(t.customLevels,o[T]),I(o)),"object"==typeof t.redact&&null!==t.redact||Array.isArray(t.redact)){o.redact=t.redact;let e=B(o.redact,M),r={stringify:e[S]};o[w]=M,o[x]=e,o[O]=r}"string"==typeof t.msgPrefix&&(o[A]=(this[A]||"")+t.msgPrefix),o[u]=$(o,e);let c=t.level||this.level;return o[a](c),this.onChild(o),o},bindings:function(){let e=this[u],t=JSON.parse(`{${e.substr(1)}}`);return delete t.pid,delete t.hostname,t},setBindings:function(e){let t=$(this,e);this[u]=t,delete this[c]},flush:function(e){if(null!=e&&"function"!=typeof e)throw Error("callback must be a function");let t=this[v];"function"==typeof t.flush?t.flush(e||W):e&&e()},isLevelEnabled:R,version:F,get level(){return this[l]()},set level(lvl){this[a](lvl)},get levelVal(){return this[s]},set levelVal(n){throw Error("levelVal is read-only")},[o]:D,[f]:function(e,t,r){let i,o=this[m](),s=this[h],a=this[b],l=this[_],u=this[p]||z,c=this[k].streamWrite;null==e?i={}:e instanceof Error?(i={[a]:e},void 0===t&&(t=e.message)):(i=e,void 0===t&&void 0===e[l]&&e[a]&&(t=e[a].message)),s&&(i=u(i,s(i,r,this)));let f=this[d](i,t,r,o),g=this[v];!0===g[E]&&(g.lastLevel=r,g.lastObj=i,g.lastMsg=t,g.lastTime=o.slice(this[y]),g.lastLogger=this),g.write(c?c(f):f)},[d]:L,[l]:j,[a]:C};Object.setPrototypeOf(H,i.prototype),e.exports=function(){return Object.create(H)};let U=e=>e;function z(e,t){return Object.assign(t,e)}function W(){}},17722:(e,t,r)=>{"use strict";let{groupRestore:i,nestedRestore:o}=r(46522);e.exports=function(){return function(){var e;if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,s=Object.keys(t),a=(e=t,s.map(t=>{let{circle:r,escPath:i,leadingBracket:o}=e[t],s=r?`o.${r} = secret[${i}].val`:`o${o?"":"."}${t} = secret[${i}].val`,a=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${s} } catch (e) {}
        ${a}
      }
    `}).join("")),l=r>0,u=l?{secret:t,groupRestore:i,nestedRestore:o}:{secret:t};this.restore=Function("o",function(e,t,r){let i=!0===r?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:"";return`
    const secret = this.secret
    ${i}
    ${e}
    return o
  `}(a,s,l)).bind(u),this.restore.state=u}}},18583:e=>{"use strict";e.exports={WRITE_INDEX:4,READ_INDEX:8}},18616:(e,t,r)=>{"use strict";let i=r(29021),o=r(94735),s=r(28354).inherits,a=r(33873),l=r(80419),u=r(12412),c=Buffer.allocUnsafe(0),h="buffer",d="utf8",[f,p]=(process.versions.node||"0.0").split(".").map(Number),m=f>=22&&p>=7;function y(e,t){function r(r,i){if(r){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",r)}):t.emit("error",r);return}let o=t._reopening;t.fd=i,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():o&&process.nextTick(()=>t.emit("drain")))}t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;let o=t.append?"a":"w",s=t.mode;if(t.sync)try{t.mkdir&&i.mkdirSync(a.dirname(e),{recursive:!0});let l=i.openSync(e,o,s);r(null,l)}catch(e){throw r(e),e}else t.mkdir?i.mkdir(a.dirname(e),{recursive:!0},t=>{if(t)return r(t);i.open(e,o,s,r)}):i.open(e,o,s,r)}function v(e){let t,r;if(!(this instanceof v))return new v(e);let{fd:o,dest:s,minLength:a,maxLength:u,maxWrite:f,periodicFlush:p,sync:m,append:b=!0,mkdir:E,retryEAGAIN:C,fsync:R,contentMode:G,mode:D}=e||{};if(o=o||s,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(a||0,16387),this.file=null,this.destroyed=!1,this.minLength=a||0,this.maxLength=u||0,this.maxWrite=f||16384,this._periodicFlush=p||0,this._periodicFlushTimer=void 0,this.sync=m||!1,this.writable=!0,this._fsync=R||!1,this.append=b||!1,this.mode=D,this.retryEAGAIN=C||(()=>!0),this.mkdir=E||!1,G===h)this._writingBuf=c,this.write=T,this.flush=w,this.flushSync=x,this._actualWrite=k,t=()=>i.writeSync(this.fd,this._writingBuf),r=()=>i.write(this.fd,this._writingBuf,this.release);else if(void 0===G||G===d)this._writingBuf="",this.write=_,this.flush=S,this.flushSync=O,this._actualWrite=A,t=()=>i.writeSync(this.fd,this._writingBuf,"utf8"),r=()=>i.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${d}" and "${h}", but passed ${G}`);if("number"==typeof o)this.fd=o,process.nextTick(()=>this.emit("ready"));else if("string"==typeof o)y(o,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(e,o)=>{if(e){if(("EAGAIN"===e.code||"EBUSY"===e.code)&&this.retryEAGAIN(e,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{l(100),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(r,100);else this._writing=!1,this.emit("error",e);return}this.emit("write",o);let s=g(this._writingBuf,this._len,o);if(this._len=s.len,this._writingBuf=s.writingBuf,this._writingBuf.length){if(!this.sync)return void r();try{do{let e=t(),r=g(this._writingBuf,this._len,e);this._len=r.len,this._writingBuf=r.writingBuf}while(this._writingBuf.length)}catch(e){this.release(e);return}}this._fsync&&i.fsyncSync(this.fd);let a=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>this.minLength?this._actualWrite():this._ending?a>0?this._actualWrite():(this._writing=!1,j(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(P,this)):this.emit("drain"))},this.on("newListener",function(e){"drain"===e&&(this._asyncDrainScheduled=!1)}),0!==this._periodicFlush&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function g(e,t,r){return"string"==typeof e&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),{writingBuf:e=e.slice(r),len:t}}function P(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}function b(e,t){return 0===e.length?c:1===e.length?e[0]:Buffer.concat(e,t)}function _(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===r.length||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function T(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,i=this._lens;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===r.length||i[i.length-1]+e.length>this.maxWrite?(r.push([e]),i.push(e.length)):(r[r.length-1].push(e),i[i.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function E(e){this._flushPending=!0;let t=()=>{if(this._fsync)this._flushPending=!1,e();else try{i.fsync(this.fd,t=>{this._flushPending=!1,e(t)})}catch(t){e(t)}this.off("error",r)},r=r=>{this._flushPending=!1,e(r),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function S(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let t=Error("SonicBoom destroyed");if(e)return void e(t);throw t}if(this.minLength<=0)return void e?.();e&&E.call(this,e),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite())}function w(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let t=Error("SonicBoom destroyed");if(e)return void e(t);throw t}if(this.minLength<=0)return void e?.();e&&E.call(this,e),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}function O(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=i.writeSync(this.fd,e,"utf8"),r=g(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if(("EAGAIN"===t.code||"EBUSY"===t.code)&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;l(100)}}try{i.fsyncSync(this.fd)}catch{}}function x(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=c);let e=c;for(;this._bufs.length||e.length;){e.length<=0&&(e=b(this._bufs[0],this._lens[0]));try{let t=i.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if(("EAGAIN"===t.code||"EBUSY"===t.code)&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;l(100)}}}function A(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=i.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else i.write(this.fd,this._writingBuf,"utf8",e)}function k(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:b(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=i.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else m&&(this._writingBuf=Buffer.from(this._writingBuf)),i.write(this.fd,this._writingBuf,e)}function j(e){if(-1===e.fd)return void e.once("ready",j.bind(null,e));void 0!==e._periodicFlushTimer&&clearInterval(e._periodicFlushTimer),e.destroyed=!0,e._bufs=[],e._lens=[],u("number"==typeof e.fd,`sonic.fd must be a number, got ${typeof e.fd}`);try{i.fsync(e.fd,function(){1!==e.fd&&2!==e.fd?i.close(e.fd,t):t()})}catch{}function t(t){if(t)return void e.emit("error",t);e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}s(v,o),v.prototype.reopen=function(e){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.reopen(e)});if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&i.close(t,e=>{if(e)return this.emit("error",e)})}),y(this.file,this)},v.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.end()});!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():j(this)))},v.prototype.destroy=function(){this.destroyed||j(this)},v.SonicBoom=v,v.default=v,e.exports=v},18685:(e,t,r)=>{"use strict";var i=r(87897),o=r(85681),s=r(44640),a=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,h=function(e,t){c.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,f=s.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:s.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m={},y=function e(t,r,s,a,l,c,d,f,y,v,g,P,b,_,T,E,S,w){for(var O,x,A=t,k=w,j=0,C=!1;void 0!==(k=k.get(m))&&!C;){var R=k.get(t);if(j+=1,void 0!==R)if(R===j)throw RangeError("Cyclic object value");else C=!0;void 0===k.get(m)&&(j=0)}if("function"==typeof v?A=v(r,A):A instanceof Date?A=b(A):"comma"===s&&u(A)&&(A=o.maybeMap(A,function(e){return e instanceof Date?b(e):e})),null===A){if(c)return y&&!E?y(r,p.encoder,S,"key",_):r;A=""}if("string"==typeof(O=A)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||o.isBuffer(A))return y?[T(E?r:y(r,p.encoder,S,"key",_))+"="+T(y(A,p.encoder,S,"value",_))]:[T(r)+"="+T(String(A))];var G=[];if(void 0===A)return G;if("comma"===s&&u(A))E&&y&&(A=o.maybeMap(A,y)),x=[{value:A.length>0?A.join(",")||null:void 0}];else if(u(v))x=v;else{var D=Object.keys(A);x=g?D.sort(g):D}var I=f?String(r).replace(/\./g,"%2E"):String(r),N=a&&u(A)&&1===A.length?I+"[]":I;if(l&&u(A)&&0===A.length)return N+"[]";for(var $=0;$<x.length;++$){var L=x[$],q="object"==typeof L&&L&&void 0!==L.value?L.value:A[L];if(!d||null!==q){var M=P&&f?String(L).replace(/\./g,"%2E"):String(L),F=u(A)?"function"==typeof s?s(N,M):N:N+(P?"."+M:"["+M+"]");w.set(t,j);var B=i();B.set(m,w),h(G,e(q,F,s,a,l,c,d,f,"comma"===s&&E&&u(A)?null:y,v,g,P,b,_,T,E,S,B))}}return G},v=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=s.default;if(void 0!==e.format){if(!a.call(s.formatters,e.format))throw TypeError("Unknown format option provided.");i=e.format}var o=s.formatters[i],c=p.filter;if(("function"==typeof e.filter||u(e.filter))&&(c=e.filter),t=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var h=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:h,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:i,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};e.exports=function(e,t){var r,o,s=e,a=v(t);"function"==typeof a.filter?s=(0,a.filter)("",s):u(a.filter)&&(r=a.filter);var c=[];if("object"!=typeof s||null===s)return"";var d=l[a.arrayFormat],f="comma"===d&&a.commaRoundTrip;r||(r=Object.keys(s)),a.sort&&r.sort(a.sort);for(var p=i(),m=0;m<r.length;++m){var g=r[m],P=s[g];a.skipNulls&&null===P||h(c,y(P,g,d,f,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,p))}var b=c.join(a.delimiter),_=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},19118:(e,t,r)=>{var i="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=i&&o&&"function"==typeof o.get?o.get:null,a=i&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&u&&"function"==typeof u.get?u.get:null,h=l&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,y=Object.prototype.toString,v=Function.prototype.toString,g=String.prototype.match,P=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,T=String.prototype.toLowerCase,E=RegExp.prototype.test,S=Array.prototype.concat,w=Array.prototype.join,O=Array.prototype.slice,x=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C?"object":"symbol")?Symbol.toStringTag:null,G=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function I(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-x(-e):x(e);if(i!==e){var o=String(i),s=P.call(t,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var N=r(75138),$=N.custom,L=z($)?$:null,q={__proto__:null,double:'"',single:"'"},M={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function F(e,t,r){var i=q[r.quoteStyle||t];return i+e+i}function B(e){return!R||!("object"==typeof e&&(R in e||void 0!==e[R]))}function H(e){return"[object Array]"===V(e)&&B(e)}function U(e){return"[object RegExp]"===V(e)&&B(e)}function z(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!j)return!1;try{return j.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,o){var l,u,y,_,E,x=r||{};if(K(x,"quoteStyle")&&!K(q,x.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(K(x,"maxStringLength")&&("number"==typeof x.maxStringLength?x.maxStringLength<0&&x.maxStringLength!==1/0:null!==x.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var k=!K(x,"customInspect")||x.customInspect;if("boolean"!=typeof k&&"symbol"!==k)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(x,"indent")&&null!==x.indent&&"	"!==x.indent&&!(parseInt(x.indent,10)===x.indent&&x.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(x,"numericSeparator")&&"boolean"!=typeof x.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $=x.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var i=t.length-r.maxStringLength;return e(P.call(t,0,r.maxStringLength),r)+("... "+i)+" more character"+(i>1?"s":"")}var o=M[r.quoteStyle||"single"];return o.lastIndex=0,F(b.call(b.call(t,o,"\\$1"),/[\x00-\x1f]/g,Q),"single",r)}(t,x);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var W=String(t);return $?I(t,W):W}if("bigint"==typeof t){var er=String(t)+"n";return $?I(t,er):er}var en=void 0===x.depth?5:x.depth;if(void 0===i&&(i=0),i>=en&&en>0&&"object"==typeof t)return H(t)?"[Array]":"[Object]";var ei=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=w.call(Array(e.indent+1)," ")}return{base:r,prev:w.call(Array(t+1),r)}}(x,i);if(void 0===o)o=[];else if(J(o,t)>=0)return"[Circular]";function eo(t,r,s){if(r&&(o=O.call(o)).push(r),s){var a={depth:x.depth};return K(x,"quoteStyle")&&(a.quoteStyle=x.quoteStyle),e(t,a,i+1,o)}return e(t,x,i+1,o)}if("function"==typeof t&&!U(t)){var es=function(e){if(e.name)return e.name;var t=g.call(v.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ea=et(t,eo);return"[Function"+(es?": "+es:" (anonymous)")+"]"+(ea.length>0?" { "+w.call(ea,", ")+" }":"")}if(z(t)){var el=C?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(t);return"object"!=typeof t||C?el:X(el)}if((eu=t)&&"object"==typeof eu&&("undefined"!=typeof HTMLElement&&eu instanceof HTMLElement||"string"==typeof eu.nodeName&&"function"==typeof eu.getAttribute)){for(var eu,ec,eh="<"+T.call(String(t.nodeName)),ed=t.attributes||[],ef=0;ef<ed.length;ef++){eh+=" "+ed[ef].name+"="+F((ec=ed[ef].value,b.call(String(ec),/"/g,"&quot;")),"double",x)}return eh+=">",t.childNodes&&t.childNodes.length&&(eh+="..."),eh+="</"+T.call(String(t.nodeName))+">"}if(H(t)){if(0===t.length)return"[]";var ep=et(t,eo);return ei&&!function(e){for(var t=0;t<e.length;t++)if(J(e[t],"\n")>=0)return!1;return!0}(ep)?"["+ee(ep,ei)+"]":"[ "+w.call(ep,", ")+" ]"}if("[object Error]"===V(l=t)&&B(l)){var em=et(t,eo);return"cause"in Error.prototype||!("cause"in t)||G.call(t,"cause")?0===em.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(em,", ")+" }":"{ ["+String(t)+"] "+w.call(S.call("[cause]: "+eo(t.cause),em),", ")+" }"}if("object"==typeof t&&k){if(L&&"function"==typeof t[L]&&N)return N(t,{depth:en-i});else if("symbol"!==k&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!s||!e||"object"!=typeof e)return!1;try{s.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ey=[];return a&&a.call(t,function(e,r){ey.push(eo(r,t,!0)+" => "+eo(e,t))}),Z("Map",s.call(t),ey,ei)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ev=[];return h&&h.call(t,function(e){ev.push(eo(e,t))}),Z("Set",c.call(t),ev,ei)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if("[object Number]"===V(u=t)&&B(u))return X(eo(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return X(eo(A.call(t)));if("[object Boolean]"===V(y=t)&&B(y))return X(m.call(t));if("[object String]"===V(_=t)&&B(_))return X(eo(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||"undefined"!=typeof global&&t===global)return"{ [object globalThis] }";if(!("[object Date]"===V(E=t)&&B(E))&&!U(t)){var eg=et(t,eo),eP=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,eb=t instanceof Object?"":"null prototype",e_=!eP&&R&&Object(t)===t&&R in t?P.call(V(t),8,-1):eb?"Object":"",eT=(eP||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(e_||eb?"["+w.call(S.call([],e_||[],eb||[]),": ")+"] ":"");return 0===eg.length?eT+"{}":ei?eT+"{"+ee(eg,ei)+"}":eT+"{ "+w.call(eg,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function K(e,t){return W.call(e,t)}function V(e){return y.call(e)}function J(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}function Q(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function X(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function Z(e,t,r,i){return e+" ("+t+") {"+(i?ee(r,i):w.call(r,", "))+"}"}function ee(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+w.call(e,","+r)+"\n"+t.prev}function et(e,t){var r,i=H(e),o=[];if(i){o.length=e.length;for(var s=0;s<e.length;s++)o[s]=K(e,s)?t(e[s],e):""}var a="function"==typeof k?k(e):[];if(C){r={};for(var l=0;l<a.length;l++)r["$"+a[l]]=a[l]}for(var u in e)if(K(e,u)&&(!i||String(Number(u))!==u||!(u<e.length)))if(C&&r["$"+u]instanceof Symbol)continue;else E.call(/[^\w$]/,u)?o.push(t(u,e)+": "+t(e[u],e)):o.push(u+": "+t(e[u],e));if("function"==typeof k)for(var c=0;c<a.length;c++)G.call(e,a[c])&&o.push("["+t(a[c])+"]: "+t(e[a[c]],e));return o}},20760:(e,t,r)=>{"use strict";let i=r(47595),o=r(32026),s=r(54148),a=r(68658);e.exports={err:i,errWithCause:o,mapHttpRequest:s.mapHttpRequest,mapHttpResponse:a.mapHttpResponse,req:s.reqSerializer,res:a.resSerializer,wrapErrorSerializer:function(e){return e===i?e:function(t){return e(i(t))}},wrapRequestSerializer:function(e){return e===s.reqSerializer?e:function(t){return e(s.reqSerializer(t))}},wrapResponseSerializer:function(e){return e===a.resSerializer?e:function(t){return e(a.resSerializer(t))}}}},22304:(e,t,r)=>{"use strict";let i=r(71618),o=r(59059),s=r(10518),a=r(17722),{groupRedact:l,nestedRedact:u}=r(46522),c=r(13789),h=r(30208),d=i(),f=e=>e;function p(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(!1===e.serialize||"function"==typeof e.serialize)?e.serialize:JSON.stringify,i=e.remove;if(!0===i&&r!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");let h=!0===i?void 0:"censor"in e?e.censor:"[REDACTED]",m="function"==typeof h,y=m&&h.length>1;if(0===t.length)return r||f;d({paths:t,serialize:r,censor:h});let{wildcards:v,wcLen:g,secret:P}=o({paths:t,censor:h}),b=a();return s({secret:P,wcLen:g,serialize:r,strict:!("strict"in e)||e.strict,isCensorFct:m,censorFctTakesPath:y},c({secret:P,censor:h,compileRestore:b,serialize:r,groupRedact:l,nestedRedact:u,wildcards:v,wcLen:g}))}f.restore=f,p.rx=h,p.validator=i,e.exports=p},30208:e=>{"use strict";e.exports=/[^.[\]]+|\[((?:.)*?)\]/g},32026:(e,t,r)=>{"use strict";e.exports=function e(t){if(!i(t))return t;t[a]=void 0;let r=Object.create(o);for(let o in r.type="[object Function]"===l.call(t.constructor)?t.constructor.name:t.name,r.message=t.message,r.stack=t.stack,Array.isArray(t.errors)&&(r.aggregateErrors=t.errors.map(t=>e(t))),i(t.cause)&&!Object.prototype.hasOwnProperty.call(t.cause,a)&&(r.cause=e(t.cause)),t)if(void 0===r[o]){let s=t[o];i(s)?Object.prototype.hasOwnProperty.call(s,a)||(r[o]=e(s)):r[o]=s}return delete t[a],r.raw=t,r};let{isErrorLike:i}=r(98539),{pinoErrProto:o,pinoErrorSymbols:s}=r(83360),{seen:a}=s,{toString:l}=Object.prototype},33376:(e,t,r)=>{"use strict";var i=r(18685),o=r(85903);e.exports={formats:r(44640),parse:o,stringify:i}},36937:(e,t,r)=>{"use strict";let i=r(22304),{redactFmtSym:o,wildcardFirstSym:s}=r(69185),{rx:a,validator:l}=i,u=l({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:e=>`pino – redact paths array contains an invalid path (${e})`}),c="[Redacted]";e.exports=function(e,t){let{paths:r,censor:l}=function(e){if(Array.isArray(e))return u(e={paths:e,censor:c}),e;let{paths:t,censor:r=c,remove:i}=e;if(!1===Array.isArray(t))throw Error("pino – redact must contain an array of strings");return!0===i&&(r=void 0),u({paths:t,censor:r}),{paths:t,censor:r}}(e),h=r.reduce((e,t)=>{a.lastIndex=0;let r=a.exec(t),i=a.exec(t),o=void 0!==r[1]?r[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):r[0];if("*"===o&&(o=s),null===i)return e[o]=null,e;if(null===e[o])return e;let{index:l}=i,u=`${t.substr(l,t.length-1)}`;return e[o]=e[o]||[],o!==s&&0===e[o].length&&e[o].push(...e[s]||[]),o===s&&Object.keys(e).forEach(function(t){e[t]&&e[t].push(u)}),e[o].push(u),e},{}),d={[o]:i({paths:r,censor:l,serialize:t,strict:!1})},f=(...e)=>"function"==typeof l?t(l(...e)):t(l);return[...Object.keys(h),...Object.getOwnPropertySymbols(h)].reduce((e,r)=>{if(null===h[r])e[r]=e=>f(e,[r]);else{let o="function"==typeof l?(e,t)=>l(e,[r,...t]):l;e[r]=i({paths:h[r],censor:o,serialize:t,strict:!1})}return e},d)}},39093:(e,t,r)=>{"use strict";let i=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:o}=r(89597),s=o.info;function a(e,t){return e.level-t.level}e.exports=function(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let l=Object.create(o);l.silent=1/0,t.levels&&"object"==typeof t.levels&&Object.keys(t.levels).forEach(e=>{l[e]=t.levels[e]});let u={write:c,add:f,emit:h,flushSync:d,end:function(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync(),e.end()},minLevel:0,streams:[],clone:function e(t){let r=Array(this.streams.length);for(let e=0;e<r.length;e++)r[e]={level:t,stream:this.streams[e].stream};return{write:c,add:f,minLevel:t,streams:r,clone:e,emit:h,flushSync:d,[i]:!0}},[i]:!0,streamLevels:l};return Array.isArray(e)?e.forEach(f,u):f.call(u,e),e=null,u;function c(e){var r,o,s,a;let l,u,c=this.lastLevel,{streams:h}=this,d=0;for(let f=(r=h.length,t.dedupe?r-1:0);o=f,s=h.length,t.dedupe?o>=0:o<s;a=f,f=t.dedupe?a-1:a+1)if((l=h[f]).level<=c){if(0!==d&&d!==l.level)break;if((u=l.stream)[i]){let{lastTime:e,lastMsg:t,lastObj:r,lastLogger:i}=this;u.lastLevel=c,u.lastTime=e,u.lastMsg=t,u.lastObj=r,u.lastLogger=i}u.write(e),t.dedupe&&(d=l.level)}else if(!t.dedupe)break}function h(...e){for(let{stream:t}of this.streams)"function"==typeof t.emit&&t.emit(...e)}function d(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync()}function f(e){let t;if(!e)return u;let i="function"==typeof e.write||e.stream,o=e.write?e:e.stream;if(!i)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:l,streamLevels:c}=this,h={stream:o,level:"number"==typeof e.levelVal?e.levelVal:"string"==typeof e.level?c[e.level]:"number"==typeof e.level?e.level:s,levelVal:void 0,id:r++};return l.unshift(h),l.sort(a),this.minLevel=l[0].level,u}}},42690:(e,t,r)=>{"use strict";var i=r(81330),o=r(45177),s=r(19118),a=r(50122),l=r(88486),u=i("%WeakMap%",!0),c=o("WeakMap.prototype.get",!0),h=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),f=o("WeakMap.prototype.delete",!0);e.exports=u?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new l("Side channel does not contain "+s(e))},delete:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(a&&t)return t.delete(r);return!1},get:function(r){return u&&r&&("object"==typeof r||"function"==typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return u&&r&&("object"==typeof r||"function"==typeof r)&&e?d(e,r):!!t&&t.has(r)},set:function(r,i){u&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new u),h(e,r,i)):a&&(t||(t=a()),t.set(r,i))}};return r}:a},44640:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:i.RFC3986,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986}},45177:(e,t,r)=>{"use strict";var i=r(81330),o=r(70649),s=o([i("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?o([r]):r}},46522:e=>{"use strict";function t(e,t){return null!=e&&("hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t))}function r(e,t){for(var r=-1,i=t.length,o=e;null!=o&&++r<i;)o=o[t[r]];return o}function i(e,t,r){if(e.depth===r)return i(e.parent,t,r);var o={parent:e,key:t,depth:r,children:[]};return e.children.push(o),o}function o(e,t,r){let i=e,o=[];do o.push(i.key),i=i.parent;while(null!=i.parent);return{path:o,value:t,target:r}}e.exports={groupRedact:function(e,t,i,o,s){let a=r(e,t);if(null==a||"string"==typeof a)return{keys:null,values:null,target:a,flat:!0};let l=Object.keys(a),u=l.length,c=t.length,h=s?[...t]:void 0,d=Array(u);for(var f=0;f<u;f++){let e=l[f];d[f]=a[e],s?(h[c]=e,a[e]=i(a[e],h)):o?a[e]=i(a[e]):a[e]=i}return{keys:l,values:d,target:a,flat:!0}},groupRestore:function({keys:e,values:t,target:r}){if(null==r||"string"==typeof r)return;let i=e.length;for(var o=0;o<i;o++)r[e[o]]=t[o]},nestedRedact:function(e,s,a,l,u,c,h){let d=r(s,a);if(null==d)return;let f=Object.keys(d),p=f.length;for(var m=0;m<p;m++)!function(e,r,s,a,l,u,c,h){let d=l.length,f=d-1,p=s;var m,y,v,g,P,b=-1,_=null,T=null,E=!1,S=0,w=0,O={parent:null,key:null,children:[],depth:0};if(v=m=r[s],"object"==typeof m){for(;null!=m&&++b<d&&(w+=1,s=l[b],"*"===s||T||"object"==typeof m&&s in m);)if("*"!==s||("*"===T&&(E=!0),T=s,b===f)){if(T){let d=Object.keys(m);for(var x=0;x<d.length;x++){let _=d[x];if(P=m[_],g="*"===s,E)O=i(O,_,w),v=function e(r,s,a,l,u,c,h,d,f,p,m,y,v,g,P,b,_,T,E,S){if(0===s&&(v||"object"==typeof r&&null!==r&&a in r))if(y=v?r:r[a],m=P!==b?y:h?d?c(y,[...l,f,...u]):c(y):c,v){let e=o(_,y,E);T.push(e),p[g]=m}else if(r[a]===m);else if(void 0===m&&void 0!==c||t(r,a)&&m===y);else{let e=o(i(_,a,S+1),y,E);T.push(e),r[a]=m}for(let t in r)"object"==typeof r[t]&&(_=i(_,t,S),e(r[t],s-1,a,l,u,c,h,d,f,p,m,y,v,g,P,b,_,T,E,S+1))}(P,b-1,s,a,l,u,c,h,p,m,y,v,g,_,b,f,O,e,r[p],w+1);else if(g||"object"==typeof P&&null!==P&&s in P)if(v=g?P:P[s],y=b!==f?v:c?h?u(v,[...a,p,...l]):u(v):u,g){let t=o(i(O,_,w),v,r[p]);e.push(t),m[_]=y}else if(P[s]===y);else if(void 0===y&&void 0!==u||t(P,s)&&y===v)O=i(O,_,w);else{O=i(O,_,w);let t=o(i(O,s,w+1),v,r[p]);e.push(t),P[s]=y}}T=null}else{if(v=m[s],O=i(O,s,w),y=b!==f?v:c?h?u(v,[...a,p,...l]):u(v):u,t(m,s)&&y===v||void 0===y&&void 0!==u);else{let t=o(O,v,r[p]);e.push(t),m[s]=y}m=m[s]}if("object"!=typeof m)break}}}(e,d,f[m],a,l,u,c,h);return e},nestedRestore:function(e){for(let t=0;t<e.length;t++){let{target:r,path:i,value:o}=e[t],s=r;for(let e=i.length-1;e>0;e--)s=s[i[e]];s[i[0]]=o}}}},47595:(e,t,r)=>{"use strict";e.exports=function e(t){if(!s(t))return t;t[u]=void 0;let r=Object.create(a);for(let a in r.type="[object Function]"===c.call(t.constructor)?t.constructor.name:t.name,r.message=i(t),r.stack=o(t),Array.isArray(t.errors)&&(r.aggregateErrors=t.errors.map(t=>e(t))),t)if(void 0===r[a]){let i=t[a];s(i)?"cause"===a||Object.prototype.hasOwnProperty.call(i,u)||(r[a]=e(i)):r[a]=i}return delete t[u],r.raw=t,r};let{messageWithCauses:i,stackWithCauses:o,isErrorLike:s}=r(98539),{pinoErrProto:a,pinoErrorSymbols:l}=r(83360),{seen:u}=l,{toString:c}=Object.prototype},50122:(e,t,r)=>{"use strict";var i=r(81330),o=r(45177),s=r(19118),a=r(88486),l=i("%Map%",!0),u=o("Map.prototype.get",!0),c=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),d=o("Map.prototype.delete",!0),f=o("Map.prototype.size",!0);e.exports=!!l&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+s(e))},delete:function(t){if(e){var r=d(e,t);return 0===f(e)&&(e=void 0),r}return!1},get:function(t){if(e)return u(e,t)},has:function(t){return!!e&&h(e,t)},set:function(t,r){e||(e=new l),c(e,t,r)}};return t}},53351:(e,t)=>{"use strict";let{hasOwnProperty:r}=Object.prototype,i=f();i.configure=f,i.stringify=i,i.default=i,t.stringify=i,t.configure=f,e.exports=i;let o=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function s(e){return e.length<5e3&&!o.test(e)?`"${e}"`:JSON.stringify(e)}function a(e,t){if(e.length>200||t)return e.sort(t);for(let t=1;t<e.length;t++){let r=e[t],i=t;for(;0!==i&&e[i-1]>r;)e[i]=e[i-1],i--;e[i]=r}return e}let l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(e){return void 0!==l.call(e)&&0!==e.length}function c(e,t,r){e.length<r&&(r=e.length);let i=","===t?"":" ",o=`"0":${i}${e[0]}`;for(let s=1;s<r;s++)o+=`${t}"${s}":${i}${e[s]}`;return o}function h(e,t){let i;if(r.call(e,t)){if("number"!=typeof(i=e[t]))throw TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(i))throw TypeError(`The "${t}" argument must be an integer`);if(i<1)throw RangeError(`The "${t}" argument must be >= 1`)}return void 0===i?1/0:i}function d(e){return 1===e?"1 item":`${e} items`}function f(e){let t=function(e){if(r.call(e,"strict")){let t=e.strict;if("boolean"!=typeof t)throw TypeError('The "strict" argument must be of type boolean');if(t)return e=>{let t=`Object can not safely be stringified. Received type ${typeof e}`;throw"function"!=typeof e&&(t+=` (${e.toString()})`),Error(t)}}}(e={...e});t&&(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let i=function(e){if(r.call(e,"circularValue")){let t=e.circularValue;if("string"==typeof t)return`"${t}"`;if(null==t)return t;if(t===Error||t===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(e),o=function(e,t){let i;if(r.call(e,t)&&"boolean"!=typeof(i=e[t]))throw TypeError(`The "${t}" argument must be of type boolean`);return void 0===i||i}(e,"bigint"),l=function(e){let t;if(r.call(e,"deterministic")&&"boolean"!=typeof(t=e.deterministic)&&"function"!=typeof t)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===t||t}(e),f="function"==typeof l?l:void 0,p=h(e,"maximumDepth"),m=h(e,"maximumBreadth");return function(e,r,h){if(arguments.length>1){let y="";if("number"==typeof h?y=" ".repeat(Math.min(h,10)):"string"==typeof h&&(y=h.slice(0,10)),null!=r){if("function"==typeof r)return function e(r,c,h,y,v,g){let P=c[r];switch("object"==typeof P&&null!==P&&"function"==typeof P.toJSON&&(P=P.toJSON(r)),typeof(P=y.call(c,r,P))){case"string":return s(P);case"object":{if(null===P)return"null";if(-1!==h.indexOf(P))return i;let t="",r=",",o=g;if(Array.isArray(P)){if(0===P.length)return"[]";if(p<h.length+1)return'"[Array]"';h.push(P),""!==v&&(g+=v,t+=`
${g}`,r=`,
${g}`);let i=Math.min(P.length,m),s=0;for(;s<i-1;s++){let i=e(String(s),P,h,y,v,g);t+=void 0!==i?i:"null",t+=r}let a=e(String(s),P,h,y,v,g);if(t+=void 0!==a?a:"null",P.length-1>m){let e=P.length-m-1;t+=`${r}"... ${d(e)} not stringified"`}return""!==v&&(t+=`
${o}`),h.pop(),`[${t}]`}let c=Object.keys(P),b=c.length;if(0===b)return"{}";if(p<h.length+1)return'"[Object]"';let _="",T="";""!==v&&(g+=v,r=`,
${g}`,_=" ");let E=Math.min(b,m);l&&!u(P)&&(c=a(c,f)),h.push(P);for(let i=0;i<E;i++){let o=c[i],a=e(o,P,h,y,v,g);void 0!==a&&(t+=`${T}${s(o)}:${_}${a}`,T=r)}return b>m&&(t+=`${T}"...":${_}"${d(b-m)} not stringified"`,T=r),""!==v&&T.length>1&&(t=`
${g}${t}
${o}`),h.pop(),`{${t}}`}case"number":return isFinite(P)?String(P):t?t(P):"null";case"boolean":return!0===P?"true":"false";case"undefined":return;case"bigint":if(o)return String(P);default:return t?t(P):void 0}}("",{"":e},[],r,y,"");if(Array.isArray(r))return function e(r,a,l,u,c,h){switch("object"==typeof a&&null!==a&&"function"==typeof a.toJSON&&(a=a.toJSON(r)),typeof a){case"string":return s(a);case"object":{if(null===a)return"null";if(-1!==l.indexOf(a))return i;let t=h,r="",o=",";if(Array.isArray(a)){if(0===a.length)return"[]";if(p<l.length+1)return'"[Array]"';l.push(a),""!==c&&(h+=c,r+=`
${h}`,o=`,
${h}`);let i=Math.min(a.length,m),s=0;for(;s<i-1;s++){let t=e(String(s),a[s],l,u,c,h);r+=void 0!==t?t:"null",r+=o}let f=e(String(s),a[s],l,u,c,h);if(r+=void 0!==f?f:"null",a.length-1>m){let e=a.length-m-1;r+=`${o}"... ${d(e)} not stringified"`}return""!==c&&(r+=`
${t}`),l.pop(),`[${r}]`}l.push(a);let f="";""!==c&&(h+=c,o=`,
${h}`,f=" ");let y="";for(let t of u){let i=e(t,a[t],l,u,c,h);void 0!==i&&(r+=`${y}${s(t)}:${f}${i}`,y=o)}return""!==c&&y.length>1&&(r=`
${h}${r}
${t}`),l.pop(),`{${r}}`}case"number":return isFinite(a)?String(a):t?t(a):"null";case"boolean":return!0===a?"true":"false";case"undefined":return;case"bigint":if(o)return String(a);default:return t?t(a):void 0}}("",e,[],function(e){let t=new Set;for(let r of e)("string"==typeof r||"number"==typeof r)&&t.add(String(r));return t}(r),y,"")}if(0!==y.length)return function e(r,h,y,v,g){switch(typeof h){case"string":return s(h);case"object":{if(null===h)return"null";if("function"==typeof h.toJSON){if("object"!=typeof(h=h.toJSON(r)))return e(r,h,y,v,g);if(null===h)return"null"}if(-1!==y.indexOf(h))return i;let t=g;if(Array.isArray(h)){if(0===h.length)return"[]";if(p<y.length+1)return'"[Array]"';y.push(h),g+=v;let r=`
${g}`,i=`,
${g}`,o=Math.min(h.length,m),s=0;for(;s<o-1;s++){let t=e(String(s),h[s],y,v,g);r+=void 0!==t?t:"null",r+=i}let a=e(String(s),h[s],y,v,g);if(r+=void 0!==a?a:"null",h.length-1>m){let e=h.length-m-1;r+=`${i}"... ${d(e)} not stringified"`}return r+=`
${t}`,y.pop(),`[${r}]`}let o=Object.keys(h),P=o.length;if(0===P)return"{}";if(p<y.length+1)return'"[Object]"';g+=v;let b=`,
${g}`,_="",T="",E=Math.min(P,m);u(h)&&(_+=c(h,b,m),o=o.slice(h.length),E-=h.length,T=b),l&&(o=a(o,f)),y.push(h);for(let t=0;t<E;t++){let r=o[t],i=e(r,h[r],y,v,g);void 0!==i&&(_+=`${T}${s(r)}: ${i}`,T=b)}return P>m&&(_+=`${T}"...": "${d(P-m)} not stringified"`,T=b),""!==T&&(_=`
${g}${_}
${t}`),y.pop(),`{${_}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return!0===h?"true":"false";case"undefined":return;case"bigint":if(o)return String(h);default:return t?t(h):void 0}}("",e,[],y,"")}return function e(r,h,y){switch(typeof h){case"string":return s(h);case"object":{if(null===h)return"null";if("function"==typeof h.toJSON){if("object"!=typeof(h=h.toJSON(r)))return e(r,h,y);if(null===h)return"null"}if(-1!==y.indexOf(h))return i;let t="",o=void 0!==h.length;if(o&&Array.isArray(h)){if(0===h.length)return"[]";if(p<y.length+1)return'"[Array]"';y.push(h);let r=Math.min(h.length,m),i=0;for(;i<r-1;i++){let r=e(String(i),h[i],y);t+=void 0!==r?r:"null",t+=","}let o=e(String(i),h[i],y);if(t+=void 0!==o?o:"null",h.length-1>m){let e=h.length-m-1;t+=`,"... ${d(e)} not stringified"`}return y.pop(),`[${t}]`}let v=Object.keys(h),g=v.length;if(0===g)return"{}";if(p<y.length+1)return'"[Object]"';let P="",b=Math.min(g,m);o&&u(h)&&(t+=c(h,",",m),v=v.slice(h.length),b-=h.length,P=","),l&&(v=a(v,f)),y.push(h);for(let r=0;r<b;r++){let i=v[r],o=e(i,h[i],y);void 0!==o&&(t+=`${P}${s(i)}:${o}`,P=",")}return g>m&&(t+=`${P}"...":"${d(g-m)} not stringified"`),y.pop(),`{${t}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return!0===h?"true":"false";case"undefined":return;case"bigint":if(o)return String(h);default:return t?t(h):void 0}}("",e,[])}}},53767:e=>{"use strict";e.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},54148:e=>{"use strict";e.exports={mapHttpRequest:function(e){return{req:i(e)}},reqSerializer:i};let t=Symbol("pino-raw-req-ref"),r=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[t]},set:function(e){this[t]=e}}});function i(e){let t=e.info||e.socket,i=Object.create(r);if(i.id="function"==typeof e.id?e.id():e.id||(e.info?e.info.id:void 0),i.method=e.method,e.originalUrl)i.url=e.originalUrl;else{let t=e.path;i.url="string"==typeof t?t:e.url?e.url.path||e.url:void 0}return e.query&&(i.query=e.query),e.params&&(i.params=e.params),i.headers=e.headers,i.remoteAddress=t&&t.remoteAddress,i.remotePort=t&&t.remotePort,i.raw=e.raw||e,i}Object.defineProperty(r,t,{writable:!0,value:{}})},59059:(e,t,r)=>{"use strict";let i=r(30208);e.exports=function({paths:e}){let t=[];var r=0;let o=e.reduce(function(e,o,s){var a=o.match(i).map(e=>e.replace(/'|"|`/g,""));let l="["===o[0],u=(a=a.map(e=>"["===e[0]?e.substr(1,e.length-2):e)).indexOf("*");if(u>-1){let e=a.slice(0,u),i=e.join("."),o=a.slice(u+1,a.length),s=o.length>0;r++,t.push({before:e,beforeStr:i,after:o,nested:s})}else e[o]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(o),leadingBracket:l};return e},{});return{wildcards:t,wcLen:r,secret:o}}},65049:e=>{"use strict";let t,r={exit:[],beforeExit:[]},i={exit:function(){s("exit")},beforeExit:function(){s("beforeExit")}};function o(e){r[e].length>0||(process.removeListener(e,i[e]),0===r.exit.length&&0===r.beforeExit.length&&(t=void 0))}function s(e){for(let t of r[e]){let r=t.deref(),i=t.fn;void 0!==r&&i(r,e)}r[e]=[]}function a(e){for(let t of["exit","beforeExit"]){let i=r[t].indexOf(e);r[t].splice(i,i+1),o(t)}}function l(e,o,s){if(void 0===o)throw Error("the object can't be undefined");r[e].length>0||process.on(e,i[e]);let l=new WeakRef(o);l.fn=s,void 0===t&&(t=new FinalizationRegistry(a)),t.register(o,l),r[e].push(l)}e.exports={register:function(e,t){l("exit",e,t)},registerBeforeExit:function(e,t){l("beforeExit",e,t)},unregister:function(e){if(void 0!==t)for(let i of(t.unregister(e),["exit","beforeExit"]))r[i]=r[i].filter(t=>{let r=t.deref();return r&&r!==e}),o(i)}}},68658:e=>{"use strict";e.exports={mapHttpResponse:function(e){return{res:i(e)}},resSerializer:i};let t=Symbol("pino-raw-res-ref"),r=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[t]},set:function(e){this[t]=e}}});function i(e){let t=Object.create(r);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}Object.defineProperty(r,t,{writable:!0,value:{}})},69185:e=>{"use strict";let t=Symbol("pino.setLevel"),r=Symbol("pino.getLevel"),i=Symbol("pino.levelVal"),o=Symbol("pino.levelComp"),s=Symbol("pino.useLevelLabels"),a=Symbol("pino.useOnlyCustomLevels"),l=Symbol("pino.mixin"),u=Symbol("pino.lsCache"),c=Symbol("pino.chindings"),h=Symbol("pino.asJson"),d=Symbol("pino.write"),f=Symbol("pino.redactFmt"),p=Symbol("pino.time"),m=Symbol("pino.timeSliceIndex"),y=Symbol("pino.stream"),v=Symbol("pino.stringify"),g=Symbol("pino.stringifySafe"),P=Symbol("pino.stringifiers"),b=Symbol("pino.end"),_=Symbol("pino.formatOpts"),T=Symbol("pino.messageKey"),E=Symbol("pino.errorKey"),S=Symbol("pino.nestedKey"),w=Symbol("pino.nestedKeyStr"),O=Symbol("pino.mixinMergeStrategy"),x=Symbol("pino.msgPrefix"),A=Symbol("pino.wildcardFirst"),k=Symbol.for("pino.serializers"),j=Symbol.for("pino.formatters"),C=Symbol.for("pino.hooks");e.exports={setLevelSym:t,getLevelSym:r,levelValSym:i,levelCompSym:o,useLevelLabelsSym:s,mixinSym:l,lsCacheSym:u,chindingsSym:c,asJsonSym:h,writeSym:d,serializersSym:k,redactFmtSym:f,timeSym:p,timeSliceIndexSym:m,streamSym:y,stringifySym:v,stringifySafeSym:g,stringifiersSym:P,endSym:b,formatOptsSym:_,messageKeySym:T,errorKeySym:E,nestedKeySym:S,wildcardFirstSym:A,needsMetadataGsym:Symbol.for("pino.metadata"),useOnlyCustomLevelsSym:a,formattersSym:j,hooksSym:C,nestedKeyStrSym:w,mixinMergeStrategySym:O,msgPrefixSym:x}},71618:e=>{"use strict";e.exports=function(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=e=>`fast-redact – Invalid path (${e})`}=e;return function({paths:e}){e.forEach(e=>{if("string"!=typeof e)throw Error(t());try{if(/〇/.test(e))throw Error();let t=("["===e[0]?"":".")+e.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(t)||/\/\*/.test(t))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const 〇 = null;
            o${t}
            if ([o${t}].length !== 1) throw Error()`)()}catch(t){throw Error(r(e))}})}}},72626:(e,t,r)=>{"use strict";let i=r(48161),o=r(20760),s=r(96133),a=r(36937),l=r(53767),u=r(16374),c=r(69185),{configure:h}=r(53351),{assertDefaultLevelFound:d,mappings:f,genLsCache:p,genLevelComparison:m,assertLevelComparison:y}=r(95821),{DEFAULT_LEVELS:v,SORTING_ORDER:g}=r(89597),{createArgsNormalizer:P,asChindings:b,buildSafeSonicBoom:_,buildFormatters:T,stringify:E,normalizeDestFileDescriptor:S,noop:w}=r(98895),{version:O}=r(7051),{chindingsSym:x,redactFmtSym:A,serializersSym:k,timeSym:j,timeSliceIndexSym:C,streamSym:R,stringifySym:G,stringifySafeSym:D,stringifiersSym:I,setLevelSym:N,endSym:$,formatOptsSym:L,messageKeySym:q,errorKeySym:M,nestedKeySym:F,mixinSym:B,levelCompSym:H,useOnlyCustomLevelsSym:U,formattersSym:z,hooksSym:W,nestedKeyStrSym:K,mixinMergeStrategySym:V,msgPrefixSym:J}=c,{epochTime:Q,nullTime:X}=l,{pid:Y}=process,Z=i.hostname(),ee=o.err,et=P({level:"info",levelComparison:g.ASC,levels:v,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:Y,hostname:Z},serializers:Object.assign(Object.create(null),{err:ee}),formatters:Object.assign(Object.create(null),{bindings:e=>e,level:(e,t)=>({level:t})}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:Q,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),er=Object.assign(Object.create(null),o);function en(...e){let t={},{opts:r,stream:i}=et(t,s(),...e);r.level&&"string"==typeof r.level&&void 0!==v[r.level.toLowerCase()]&&(r.level=r.level.toLowerCase());let{redact:o,crlf:l,serializers:c,timestamp:g,messageKey:P,errorKey:_,nestedKey:S,base:O,name:Y,level:Z,customLevels:ee,levelComparison:er,mixin:ei,mixinMergeStrategy:eo,useOnlyCustomLevels:es,formatters:ea,hooks:el,depthLimit:eu,edgeLimit:ec,onChild:eh,msgPrefix:ed}=r,ef=h({maximumDepth:eu,maximumBreadth:ec}),ep=T(ea.level,ea.bindings,ea.log),em=E.bind({[D]:ef}),ey=o?a(o,em):{},ev=o?{stringify:ey[A]}:{stringify:em},eg=b.bind(null,{[x]:"",[k]:c,[I]:ey,[G]:E,[D]:ef,[z]:ep}),eP="";null!==O&&(eP=eg(void 0===Y?O:Object.assign({},O,{name:Y})));let eb=g instanceof Function?g:g?Q:X,e_=eb().indexOf(":")+1;if(es&&!ee)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(ei&&"function"!=typeof ei)throw Error(`Unknown mixin type "${typeof ei}" - expected "function"`);if(ed&&"string"!=typeof ed)throw Error(`Unknown msgPrefix type "${typeof ed}" - expected "string"`);d(Z,ee,es);let eT=f(ee,es);return"function"==typeof i.emit&&i.emit("message",{code:"PINO_CONFIG",config:{levels:eT,messageKey:P,errorKey:_}}),y(er),Object.assign(t,{levels:eT,[H]:m(er),[U]:es,[R]:i,[j]:eb,[C]:e_,[G]:E,[D]:ef,[I]:ey,[$]:"}"+(l?"\r\n":"\n"),[L]:ev,[q]:P,[M]:_,[F]:S,[K]:S?`,${JSON.stringify(S)}:{`:"",[k]:c,[B]:ei,[V]:eo,[x]:eP,[z]:ep,[W]:el,silent:w,onChild:eh,[J]:ed}),Object.setPrototypeOf(t,u()),p(t),t[N](Z),t}e.exports=en,e.exports.destination=(e=process.stdout.fd)=>"object"==typeof e?(e.dest=S(e.dest||process.stdout.fd),_(e)):_({dest:S(e),minLength:0}),e.exports.transport=r(86501),e.exports.multistream=r(39093),e.exports.levels=f(),e.exports.stdSerializers=er,e.exports.stdTimeFunctions=Object.assign({},l),e.exports.symbols=c,e.exports.version=O,e.exports.default=en,e.exports.pino=en},73483:e=>{"use strict";e.exports=JSON.parse('{"name":"thread-stream","version":"3.1.0","description":"A streaming way to send data to a Node.js Worker Thread","main":"index.js","types":"index.d.ts","dependencies":{"real-require":"^0.2.0"},"devDependencies":{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5","desm":"^1.3.0","fastbench":"^1.0.1","husky":"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1","standard":"^17.0.0","tap":"^16.2.0","ts-node":"^10.8.0","typescript":"^5.3.2","why-is-node-running":"^2.2.2"},"scripts":{"build":"tsc --noEmit","test":"standard && npm run build && npm run transpile && tap \\"test/**/*.test.*js\\" && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":"tap --no-check-coverage --timeout=120 --coverage-report=lcovonly \\"test/**/*.test.*js\\"","test:ci:ts":"tap --ts --no-check-coverage --coverage-report=lcovonly \\"test/**/*.test.*ts\\"","test:yarn":"npm run transpile && tap \\"test/**/*.test.js\\" --no-check-coverage","transpile":"sh ./test/ts/transpile.sh","prepare":"husky install"},"standard":{"ignore":["test/ts/**/*","test/syntax-error.mjs"]},"repository":{"type":"git","url":"git+https://github.com/mcollina/thread-stream.git"},"keywords":["worker","thread","threads","stream"],"author":"Matteo Collina <hello@matteocollina.com>","license":"MIT","bugs":{"url":"https://github.com/mcollina/thread-stream/issues"},"homepage":"https://github.com/mcollina/thread-stream#readme"}')},75138:(e,t,r)=>{e.exports=r(28354).inspect},79755:(e,t,r)=>{"use strict";let{version:i}=r(73483),{EventEmitter:o}=r(94735),{Worker:s}=r(73566),{join:a}=r(33873),{pathToFileURL:l}=r(79551),{wait:u}=r(10010),{WRITE_INDEX:c,READ_INDEX:h}=r(18583),d=r(79428),f=r(12412),p=Symbol("kImpl"),m=d.constants.MAX_STRING_LENGTH;class y{constructor(e){this._value=e}deref(){return this._value}}class v{register(){}unregister(){}}let g=process.env.NODE_V8_COVERAGE?v:global.FinalizationRegistry||v,P=process.env.NODE_V8_COVERAGE?y:global.WeakRef||y,b=new g(e=>{e.exited||e.terminate()});function _(e){f(!e[p].sync),e[p].needDrain&&(e[p].needDrain=!1,e.emit("drain"))}function T(e){let t=Atomics.load(e[p].state,c),r=e[p].data.length-t;if(r>0){if(0===e[p].buf.length){e[p].flushing=!1,e[p].ending?k(e):e[p].needDrain&&process.nextTick(_,e);return}let t=e[p].buf.slice(0,r),i=Buffer.byteLength(t);i<=r?(e[p].buf=e[p].buf.slice(r),A(e,t,T.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[p].state,h,0),Atomics.store(e[p].state,c,0);i>e[p].data.length;)r/=2,t=e[p].buf.slice(0,r),i=Buffer.byteLength(t);e[p].buf=e[p].buf.slice(r),A(e,t,T.bind(null,e))}})}else if(0===r){if(0===t&&0===e[p].buf.length)return;e.flush(()=>{Atomics.store(e[p].state,h,0),Atomics.store(e[p].state,c,0),T(e)})}else x(e,Error("overwritten"))}function E(e){let t=this.stream.deref();if(void 0===t){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new P(t),t.flush(()=>{t[p].ready=!0,t.emit("ready")});break;case"ERROR":x(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:x(t,Error("this should not happen: "+e.code))}}function S(e){let t=this.stream.deref();void 0!==t&&(b.unregister(t),t.worker.exited=!0,t.worker.off("exit",S),x(t,0!==e?Error("the worker thread exited"):null))}class w extends o{constructor(e={}){if(super(),e.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[p]={},this[p].stateBuf=new SharedArrayBuffer(128),this[p].state=new Int32Array(this[p].stateBuf),this[p].dataBuf=new SharedArrayBuffer(e.bufferSize||4194304),this[p].data=Buffer.from(this[p].dataBuf),this[p].sync=e.sync||!1,this[p].ending=!1,this[p].ended=!1,this[p].needDrain=!1,this[p].destroyed=!1,this[p].flushing=!1,this[p].ready=!1,this[p].finished=!1,this[p].errored=null,this[p].closed=!1,this[p].buf="",this.worker=function(e,t){let{filename:r,workerData:o}=t,u=new s(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||a(__dirname,"lib","worker.js"),{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:0===r.indexOf("file://")?r:l(r).href,dataBuf:e[p].dataBuf,stateBuf:e[p].stateBuf,workerData:{$context:{threadStreamVersion:i},...o}}});return u.stream=new y(e),u.on("message",E),u.on("exit",S),b.register(e,u),u}(this,e),this.on("message",(e,t)=>{this.worker.postMessage(e,t)})}write(e){if(this[p].destroyed)return O(this,Error("the worker has exited")),!1;if(this[p].ending)return O(this,Error("the worker is ending")),!1;if(this[p].flushing&&this[p].buf.length+e.length>=m)try{j(this),this[p].flushing=!0}catch(e){return x(this,e),!1}if(this[p].buf+=e,this[p].sync)try{return j(this),!0}catch(e){return x(this,e),!1}return this[p].flushing||(this[p].flushing=!0,setImmediate(T,this)),this[p].needDrain=this[p].data.length-this[p].buf.length-Atomics.load(this[p].state,c)<=0,!this[p].needDrain}end(){this[p].destroyed||(this[p].ending=!0,k(this))}flush(e){if(this[p].destroyed){"function"==typeof e&&process.nextTick(e,Error("the worker has exited"));return}let t=Atomics.load(this[p].state,c);u(this[p].state,h,t,1/0,(t,r)=>{if(t){x(this,t),process.nextTick(e,t);return}if("not-equal"===r)return void this.flush(e);process.nextTick(e)})}flushSync(){this[p].destroyed||(j(this),C(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[p].ready}get destroyed(){return this[p].destroyed}get closed(){return this[p].closed}get writable(){return!this[p].destroyed&&!this[p].ending}get writableEnded(){return this[p].ending}get writableFinished(){return this[p].finished}get writableNeedDrain(){return this[p].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[p].errored}}function O(e,t){setImmediate(()=>{e.emit("error",t)})}function x(e,t){e[p].destroyed||(e[p].destroyed=!0,t&&(e[p].errored=t,O(e,t)),e.worker.exited?setImmediate(()=>{e[p].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[p].closed=!0,e.emit("close")}))}function A(e,t,r){let i=Atomics.load(e[p].state,c),o=Buffer.byteLength(t);return e[p].data.write(t,i),Atomics.store(e[p].state,c,i+o),Atomics.notify(e[p].state,c),r(),!0}function k(e){if(!e[p].ended&&e[p].ending&&!e[p].flushing){e[p].ended=!0;try{e.flushSync();let t=Atomics.load(e[p].state,h);Atomics.store(e[p].state,c,-1),Atomics.notify(e[p].state,c);let r=0;for(;-1!==t;){if(Atomics.wait(e[p].state,h,t,1e3),t=Atomics.load(e[p].state,h),-2===t)return void x(e,Error("end() failed"));if(10==++r)return void x(e,Error("end() took too long (10s)"))}process.nextTick(()=>{e[p].finished=!0,e.emit("finish")})}catch(t){x(e,t)}}}function j(e){let t=()=>{e[p].ending?k(e):e[p].needDrain&&process.nextTick(_,e)};for(e[p].flushing=!1;0!==e[p].buf.length;){let r=Atomics.load(e[p].state,c),i=e[p].data.length-r;if(0===i){C(e),Atomics.store(e[p].state,h,0),Atomics.store(e[p].state,c,0);continue}if(i<0)throw Error("overwritten");let o=e[p].buf.slice(0,i),s=Buffer.byteLength(o);if(s<=i)e[p].buf=e[p].buf.slice(i),A(e,o,t);else{for(C(e),Atomics.store(e[p].state,h,0),Atomics.store(e[p].state,c,0);s>e[p].buf.length;)i/=2,o=e[p].buf.slice(0,i),s=Buffer.byteLength(o);e[p].buf=e[p].buf.slice(i),A(e,o,t)}}}function C(e){if(e[p].flushing)throw Error("unable to flush while flushing");let t=Atomics.load(e[p].state,c),r=0;for(;;){let i=Atomics.load(e[p].state,h);if(-2===i)throw Error("_flushSync failed");if(i!==t)Atomics.wait(e[p].state,h,i,1e3);else break;if(10==++r)throw Error("_flushSync took too long (10s)")}}e.exports=w},80419:e=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let t=new Int32Array(new SharedArrayBuffer(4));e.exports=function(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(t,0,0,Number(e))}}else e.exports=function(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let t=Date.now()+Number(e);for(;t>Date.now(););}},83360:e=>{"use strict";let t=Symbol("circular-ref-tag"),r=Symbol("pino-raw-err-ref"),i=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[r]},set:function(e){this[r]=e}}});Object.defineProperty(i,r,{writable:!0,value:{}}),e.exports={pinoErrProto:i,pinoErrorSymbols:{seen:t,rawSymbol:r}}},85681:(e,t,r)=>{"use strict";var i=r(44640),o=Object.prototype.hasOwnProperty,s=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(s(r)){for(var i=[],o=0;o<r.length;++o)void 0!==r[o]&&i.push(r[o]);t.obj[t.prop]=i}}},u=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r};e.exports={arrayToObject:u,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],h=s[c];"object"==typeof h&&null!==h&&-1===r.indexOf(h)&&(t.push({obj:s,prop:c}),r.push(h))}return l(t),e},decode:function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,r,o,s){if(0===e.length)return e;var l=e;if("symbol"==typeof e?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===r)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",c=0;c<l.length;c+=1024){for(var h=l.length>=1024?l.slice(c,c+1024):l,d=[],f=0;f<h.length;++f){var p=h.charCodeAt(f);if(45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===i.RFC1738&&(40===p||41===p)){d[d.length]=h.charAt(f);continue}if(p<128){d[d.length]=a[p];continue}if(p<2048){d[d.length]=a[192|p>>6]+a[128|63&p];continue}if(p<55296||p>=57344){d[d.length]=a[224|p>>12]+a[128|p>>6&63]+a[128|63&p];continue}f+=1,p=65536+((1023&p)<<10|1023&h.charCodeAt(f)),d[d.length]=a[240|p>>18]+a[128|p>>12&63]+a[128|p>>6&63]+a[128|63&p]}u+=d.join("")}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(s(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return(s(t)&&!s(r)&&(a=u(t,i)),s(t)&&s(r))?(r.forEach(function(r,s){if(o.call(t,s)){var a=t[s];a&&"object"==typeof a&&r&&"object"==typeof r?t[s]=e(a,r,i):t.push(r)}else t[s]=r}),t):Object.keys(r).reduce(function(t,s){var a=r[s];return o.call(t,s)?t[s]=e(t[s],a,i):t[s]=a,t},a)}}},85903:(e,t,r)=>{"use strict";var i=r(85681),o=Object.prototype.hasOwnProperty,s=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},l=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},u=function(e,t){var r={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=t.parameterLimit===1/0?void 0:t.parameterLimit,h=u.split(t.delimiter,t.throwOnLimitExceeded?c+1:c);if(t.throwOnLimitExceeded&&h.length>c)throw RangeError("Parameter limit exceeded. Only "+c+" parameter"+(1===c?"":"s")+" allowed.");var d=-1,f=t.charset;if(t.charsetSentinel)for(p=0;p<h.length;++p)0===h[p].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[p]?f="utf-8":"utf8=%26%2310003%3B"===h[p]&&(f="iso-8859-1"),d=p,p=h.length);for(p=0;p<h.length;++p)if(p!==d){var p,m,y,v=h[p],g=v.indexOf("]="),P=-1===g?v.indexOf("="):g+1;-1===P?(m=t.decoder(v,a.decoder,f,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,P),a.decoder,f,"key"),y=i.maybeMap(l(v.slice(P+1),t,s(r[m])?r[m].length:0),function(e){return t.decoder(e,a.decoder,f,"value")})),y&&t.interpretNumericEntities&&"iso-8859-1"===f&&(y=String(y).replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),v.indexOf("[]=")>-1&&(y=s(y)?[y]:y);var b=o.call(r,m);b&&"combine"===t.duplicates?r[m]=i.combine(r[m],y):b&&"last"!==t.duplicates||(r[m]=y)}return r},c=function(e,t,r,o){var s=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");s=Array.isArray(t)&&t[a]?t[a].length:0}for(var u=o?t:l(t,r,s),c=e.length-1;c>=0;--c){var h,d=e[c];if("[]"===d&&r.parseArrays)h=r.allowEmptyArrays&&(""===u||r.strictNullHandling&&null===u)?[]:i.combine([],u);else{h=r.plainObjects?{__proto__:null}:{};var f="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,p=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,m=parseInt(p,10);r.parseArrays||""!==p?!isNaN(m)&&d!==p&&String(m)===p&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(h=[])[m]=u:"__proto__"!==p&&(h[p]=u):h={0:u}}u=h}return u},h=function(e,t,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=r.depth>0&&/(\[[^[\]]*])/.exec(s),u=l?s.slice(0,l.index):s,h=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;h.push(u)}for(var d=0;r.depth>0&&null!==(l=a.exec(s))&&d<r.depth;){if(d+=1,!r.plainObjects&&o.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(l[1])}if(l){if(!0===r.strictDepth)throw RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");h.push("["+s.slice(l.index)+"]")}return c(h,t,r,i)}},d=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,r=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};e.exports=function(e,t){var r=d(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var o="string"==typeof e?u(e,r):e,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],f=h(c,o[c],r,"string"==typeof e);s=i.merge(s,f,r)}return!0===r.allowSparse?s:i.compact(s)}},86501:(e,t,r)=>{"use strict";let{createRequire:i}=r(8086),o=r(96133),{join:s,isAbsolute:a,sep:l}=r(76760),u=r(80419),c=r(65049),h=r(79755);function d(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function f(e){e.flushSync()}e.exports=function(e){let{pipeline:t,targets:r,levels:p,dedupe:m,worker:y={},caller:v=o(),sync:g=!1}=e,P={...e.options},b="string"==typeof v?[v]:v,_="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},T=e.target;if(T&&r)throw Error("only one of target or targets can be specified");r?(T=_["pino-worker"]||s(__dirname,"worker.js"),P.targets=r.filter(e=>e.target).map(e=>({...e,target:w(e.target)})),P.pipelines=r.filter(e=>e.pipeline).map(e=>e.pipeline.map(t=>({...t,level:e.level,target:w(t.target)})))):t&&(T=_["pino-worker"]||s(__dirname,"worker.js"),P.pipelines=[t.map(e=>({...e,target:w(e.target)}))]),p&&(P.levels=p),m&&(P.dedupe=m),P.pinoWillSendConfig=!0;let E=new h({filename:w(T),workerData:P,workerOpts:y,sync:g});function S(){E.closed||(E.flushSync(),u(100),E.end())}return E.on("ready",function(){process.removeListener("exit",S),E.unref(),!1!==y.autoEnd&&(c.register(E,d),c.registerBeforeExit(E,f),E.on("close",function(){c.unregister(E)}))}),E.on("close",function(){process.removeListener("exit",S)}),process.on("exit",S),E;function w(e){let t;if(a(e=_[e]||e)||0===e.indexOf("file://"))return e;if("pino/file"===e)return s(__dirname,"..","file.js");for(let r of b)try{let o="node:repl"===r?process.cwd()+l:r;t=i(o).resolve(e);break}catch(e){continue}if(!t)throw Error(`unable to determine transport target for "${e}"`);return t}}},87897:(e,t,r)=>{"use strict";var i=r(88486),o=r(19118),s=r(90428),a=r(50122),l=r(42690)||a||s;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+o(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=l()),e.set(t,r)}};return t}},89597:e=>{e.exports={DEFAULT_LEVELS:{trace:10,debug:20,info:30,warn:40,error:50,fatal:60},SORTING_ORDER:{ASC:"ASC",DESC:"DESC"}}},90428:(e,t,r)=>{"use strict";var i=r(19118),o=r(88486),s=function(e,t,r){for(var i,o=e;null!=(i=o.next);o=i)if(i.key===t)return o.next=i.next,r||(i.next=e.next,e.next=i),i},a=function(e,t){if(e){var r=s(e,t);return r&&r.value}},l=function(e,t,r){var i=s(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},u=function(e,t){if(e)return s(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+i(e))},delete:function(t){var r=e&&e.next,i=u(e,t);return i&&r&&r===i&&(e=void 0),!!i},get:function(t){return a(e,t)},has:function(t){var r;return!!(r=e)&&!!s(r,t)},set:function(t,r){e||(e={next:void 0}),l(e,t,r)}};return t}},95821:(e,t,r)=>{"use strict";let{lsCacheSym:i,levelValSym:o,useOnlyCustomLevelsSym:s,streamSym:a,formattersSym:l,hooksSym:u,levelCompSym:c}=r(69185),{noop:h,genLog:d}=r(98895),{DEFAULT_LEVELS:f,SORTING_ORDER:p}=r(89597),m={fatal:e=>{let t=d(f.fatal,e);return function(...e){let r=this[a];if(t.call(this,...e),"function"==typeof r.flushSync)try{r.flushSync()}catch(e){}}},error:e=>d(f.error,e),warn:e=>d(f.warn,e),info:e=>d(f.info,e),debug:e=>d(f.debug,e),trace:e=>d(f.trace,e)},y=Object.keys(f).reduce((e,t)=>(e[f[t]]=t,e),{});function v(e,t,r){return e===p.DESC?t<=r:t>=r}e.exports={initialLsCache:Object.keys(y).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{}),genLsCache:function(e){let t=e[l].level,{labels:r}=e.levels,o={};for(let e in r){let i=t(r[e],Number(e));o[e]=JSON.stringify(i).slice(0,-1)}return e[i]=o,e},levelMethods:m,getLevel:function(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""},setLevel:function(e){let{labels:t,values:r}=this.levels;if("number"==typeof e){if(void 0===t[e])throw Error("unknown level value"+e);e=t[e]}if(void 0===r[e])throw Error("unknown level "+e);let i=this[o],a=this[o]=r[e],l=this[s],f=this[c],p=this[u].logMethod;for(let e in r){if(!1===f(r[e],a)){this[e]=h;continue}this[e]=!function(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}(e,l)?d(r[e],p):m[e](p)}this.emit("level-change",e,a,t[i],i,this)},isLevelEnabled:function(e){let{values:t}=this.levels,r=t[e];return void 0!==r&&this[c](r,this[o])},mappings:function(e=null,t=!1){let r=e?Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:y,r),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:f,e)}},assertNoLevelCollisions:function(e,t){let{labels:r,values:i}=e;for(let e in t){if(e in i)throw Error("levels cannot be overridden");if(t[e]in r)throw Error("pre-existing level values cannot be used for new levels")}},assertDefaultLevelFound:function(e,t,r){if("number"==typeof e){if(![].concat(Object.keys(t||{}).map(e=>t[e]),r?[]:Object.keys(y).map(e=>+e),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}if(!(e in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:f,t)))throw Error(`default level:${e} must be included in custom levels`)},genLevelComparison:function(e){return"string"==typeof e?v.bind(null,e):e},assertLevelComparison:function(e){if("function"!=typeof e&&!("string"==typeof e&&Object.values(p).includes(e)))throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}}},96133:e=>{"use strict";function t(e,t){return t}e.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=t;let r=Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(r))return;let i=r.slice(2),o=[];for(let e of i)e&&o.push(e.getFileName());return o}},97877:(e,t,r)=>{"use strict";r.d(t,{A:()=>iU});var i={};r.r(i),r.d(i,{StripeAPIError:()=>V,StripeAuthenticationError:()=>J,StripeCardError:()=>W,StripeConnectionError:()=>Y,StripeError:()=>z,StripeIdempotencyError:()=>ee,StripeInvalidGrantError:()=>et,StripeInvalidRequestError:()=>K,StripePermissionError:()=>Q,StripeRateLimitError:()=>X,StripeSignatureVerificationError:()=>Z,StripeUnknownError:()=>er,TemporarySessionExpiredError:()=>en,generateV1Error:()=>H,generateV2Error:()=>U});var o={};r.r(o),r.d(o,{Account:()=>rq,AccountLinks:()=>rF,AccountSessions:()=>rH,Accounts:()=>rq,ApplePayDomains:()=>rz,ApplicationFees:()=>rK,Apps:()=>ib,Balance:()=>rJ,BalanceTransactions:()=>rX,Billing:()=>i_,BillingPortal:()=>iT,Charges:()=>rZ,Checkout:()=>iE,Climate:()=>iS,ConfirmationTokens:()=>r0,CountrySpecs:()=>r2,Coupons:()=>r5,CreditNotes:()=>r9,CustomerSessions:()=>r7,Customers:()=>nt,Disputes:()=>nn,Entitlements:()=>iw,EphemeralKeys:()=>no,Events:()=>na,ExchangeRates:()=>nu,FileLinks:()=>nh,Files:()=>np,FinancialConnections:()=>iO,Forwarding:()=>ix,Identity:()=>iA,InvoiceItems:()=>ny,InvoicePayments:()=>ng,InvoiceRenderingTemplates:()=>nb,Invoices:()=>nT,Issuing:()=>ik,Mandates:()=>nS,OAuth:()=>nx,PaymentIntents:()=>nk,PaymentLinks:()=>nC,PaymentMethodConfigurations:()=>nG,PaymentMethodDomains:()=>nI,PaymentMethods:()=>n$,Payouts:()=>nq,Plans:()=>nF,Prices:()=>nH,Products:()=>nz,PromotionCodes:()=>nK,Quotes:()=>nJ,Radar:()=>ij,Refunds:()=>nX,Reporting:()=>iC,Reviews:()=>nZ,SetupAttempts:()=>n0,SetupIntents:()=>n2,ShippingRates:()=>n5,Sigma:()=>iR,Sources:()=>n9,SubscriptionItems:()=>n7,SubscriptionSchedules:()=>it,Subscriptions:()=>ii,Tax:()=>iG,TaxCodes:()=>is,TaxIds:()=>il,TaxRates:()=>ic,Terminal:()=>iD,TestHelpers:()=>iI,Tokens:()=>id,Topups:()=>im,Transfers:()=>iv,Treasury:()=>iN,V2:()=>i$,WebhookEndpoints:()=>iP});var s=r(55511),a=r(94735);class l{computeHMACSignature(e,t){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw Error("computeSHA256 not implemented.")}}class u extends Error{}class c extends l{computeHMACSignature(e,t){return s.createHmac("sha256",t).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,t){return await this.computeHMACSignature(e,t)}async computeSHA256Async(e){return new Uint8Array(await s.createHash("sha256").update(e).digest())}}var h=r(81630),d=r.t(h,2),f=r(55591),p=r.t(f,2);class m{getClientName(){throw Error("getClientName not implemented.")}makeRequest(e,t,r,i,o,s,a,l){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let e=TypeError(m.TIMEOUT_ERROR_CODE);return e.code=m.TIMEOUT_ERROR_CODE,e}}m.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],m.TIMEOUT_ERROR_CODE="ETIMEDOUT";class y{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(e){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}}let v=h||d,g=f||p,P=new v.Agent({keepAlive:!0}),b=new g.Agent({keepAlive:!0});class _ extends m{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,t,r,i,o,s,a,l){let u="http"===a,c=this._agent;return c||(c=u?P:b),new Promise((a,h)=>{let d=(u?v:g).request({host:e,port:t,path:r,method:i,agent:c,headers:o,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});d.setTimeout(l,()=>{d.destroy(m.makeTimeoutError())}),d.on("response",e=>{a(new T(e))}),d.on("error",e=>{h(e)}),d.once("socket",e=>{e.connecting?e.once(u?"connect":"secureConnect",()=>{d.write(s),d.end()}):(d.write(s),d.end())})})}}class T extends y{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,t)=>{let r="";this._res.setEncoding("utf8"),this._res.on("data",e=>{r+=e}),this._res.once("end",()=>{try{e(JSON.parse(r))}catch(e){t(e)}})})}}var E=r(33376);let S=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function w(e){return e&&"object"==typeof e&&S.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function O(e,t){return E.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString(),arrayFormat:"v2"==t?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}let x=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,t=>e[t]);return e=>r.replace(/\{([\s\S]+?)\}/g,(t,r)=>{let i=e[r];return["number","string","boolean"].includes(typeof i)?encodeURIComponent(i):""})}})();function A(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!w(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(e=>S.includes(e));return r.length>0&&r.length!==t.length&&R(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function k(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if("string"==typeof r)t.authenticator=D(e.pop());else if(w(r)){let r=Object.assign({},e.pop()),i=Object.keys(r).filter(e=>!S.includes(e));if(i.length&&R(`Invalid options found (${i.join(", ")}); ignoring.`),r.apiKey&&(t.authenticator=D(r.apiKey)),r.idempotencyKey&&(t.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(t.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(t.headers["Stripe-Account"])throw Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(t.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(t.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(t.settings.timeout=r.timeout),r.host&&(t.host=r.host),r.authenticator){if(r.apiKey)throw Error("Can't specify both apiKey and authenticator.");if("function"!=typeof r.authenticator)throw Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=r.authenticator}r.additionalHeaders&&(t.headers=r.additionalHeaders),r.streaming&&(t.streaming=!0)}}return t}function j(e){if("object"!=typeof e)throw Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(null!=e[r]&&(t[r]=e[r]),t),{})}function C(e,t){return t?e.then(e=>{setTimeout(()=>{t(null,e)},0)},e=>{setTimeout(()=>{t(e,null)},0)}):e}function R(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function G(e,t,r){if(!Number.isInteger(t))if(void 0!==r)return r;else throw Error(`${e} must be an integer`);return t}function D(e){let t=t=>(t.headers.Authorization="Bearer "+e,Promise.resolve());return t._apiKey=e,t}function I(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}function N(e){return e&&e.startsWith("/v2")?"v2":"v1"}function $(e){return Array.isArray(e)?e.join(", "):String(e)}class L extends m{constructor(e){if(super(),!e){if(!globalThis.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=L.makeFetchWithAbortTimeout(e):this._fetchFn=L.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,r,i)=>{let o,s=new Promise((e,t)=>{o=setTimeout(()=>{o=null,t(m.makeTimeoutError())},i)});return Promise.race([e(t,r),s]).finally(()=>{o&&clearTimeout(o)})}}static makeFetchWithAbortTimeout(e){return async(t,r,i)=>{let o=new AbortController,s=setTimeout(()=>{s=null,o.abort(m.makeTimeoutError())},i);try{return await e(t,Object.assign(Object.assign({},r),{signal:o.signal}))}catch(e){if("AbortError"===e.name)throw m.makeTimeoutError();throw e}finally{s&&clearTimeout(s)}}}getClientName(){return"fetch"}async makeRequest(e,t,r,i,o,s,a,l){let u=new URL(r,`${"http"===a?"http":"https"}://${e}`);u.port=t;let c="POST"==i||"PUT"==i||"PATCH"==i,h=s||(c?"":void 0);return new q(await this._fetchFn(u.toString(),{method:i,headers:Object.entries(o).map(([e,t])=>[e,$(t)]),body:"object"==typeof h?JSON.stringify(h):h},l))}}class q extends y{constructor(e){super(e.status,q._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let t={};for(let r of e){if(!Array.isArray(r)||2!=r.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[r[0]]=r[1]}return t}}class M extends l{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new u("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){let r=new TextEncoder,i=await this.subtleCrypto.importKey("raw",r.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),o=new Uint8Array(await this.subtleCrypto.sign("hmac",i,r.encode(e))),s=Array(o.length);for(let e=0;e<o.length;e++)s[e]=F[o[e]];return s.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}let F=Array(256);for(let e=0;e<F.length;e++)F[e]=e.toString(16).padStart(2,"0");class B{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}secureCompare(e,t){if(e.length!==t.length)return!1;let r=e.length,i=0;for(let o=0;o<r;++o)i|=e.charCodeAt(o)^t.charCodeAt(o);return 0===i}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(e){throw Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new L(e)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new M(e)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}}let H=e=>{switch(e.type){case"card_error":return new W(e);case"invalid_request_error":return new K(e);case"api_error":return new V(e);case"authentication_error":return new J(e);case"rate_limit_error":return new X(e);case"idempotency_error":return new ee(e);case"invalid_grant":return new et(e);default:return new er(e)}},U=e=>"temporary_session_expired"===e.type?new en(e):"invalid_fields"===e.code?new K(e):H(e);class z extends Error{constructor(e={},t=null){var r;super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=null!=(r=e.message)?r:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}z.generate=H;class W extends z{constructor(e={}){super(e,"StripeCardError")}}class K extends z{constructor(e={}){super(e,"StripeInvalidRequestError")}}class V extends z{constructor(e={}){super(e,"StripeAPIError")}}class J extends z{constructor(e={}){super(e,"StripeAuthenticationError")}}class Q extends z{constructor(e={}){super(e,"StripePermissionError")}}class X extends z{constructor(e={}){super(e,"StripeRateLimitError")}}class Y extends z{constructor(e={}){super(e,"StripeConnectionError")}}class Z extends z{constructor(e,t,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=t}}class ee extends z{constructor(e={}){super(e,"StripeIdempotencyError")}}class et extends z{constructor(e={}){super(e,"StripeInvalidGrantError")}}class er extends z{constructor(e={}){super(e,"StripeUnknownError")}}class en extends z{constructor(e={}){super(e,"TemporarySessionExpiredError")}}var ei=r(79646);class eo extends z{}class es extends B{constructor(){super(),this._exec=ei.exec,this._UNAME_CACHE=null}uuid4(){return s.randomUUID?s.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,t)=>{try{this._exec("uname -a",(t,r)=>{if(t)return e(null);e(r)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(e,t){if(!e||!t)throw Error("secureCompare must receive two arguments");if(e.length!==t.length)return!1;if(s.timingSafeEqual){let r=new TextEncoder,i=r.encode(e),o=r.encode(t);return s.timingSafeEqual(i,o)}return super.secureCompare(e,t)}createEmitter(){return new a.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof a.EventEmitter))return Promise.resolve(e);let t=[];return new Promise((r,i)=>{e.file.data.on("data",e=>{t.push(e)}).once("end",()=>{let i=Object.assign({},e);i.file.data=function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}(t),r(i)}).on("error",e=>{i(new eo({message:"An error occurred while attempting to process the file for upload.",detail:e}))})})}createNodeHttpClient(e){return new _(e)}createDefaultHttpClient(){return new _}createNodeCryptoProvider(){return new c}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}}class ea{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,r){let i=Date.now(),o=i-e.request_start_time;return j({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(r),elapsed:o,request_start_time:e.request_start_time,request_end_time:i})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,r){return i=>{let o=i.getHeaders(),s=i.toStream(()=>{let r=this._makeResponseEvent(e,i.getStatusCode(),o);this._stripe._emitter.emit("response",r),this._recordRequestMetrics(this._getRequestId(o),r.elapsed,t)});return this._addHeadersDirectlyToObject(s,o),r(null,s)}}_jsonResponseHandler(e,t,r,i){return o=>{let s=o.getHeaders(),a=this._getRequestId(s),l=o.getStatusCode(),u=this._makeResponseEvent(e,l,s);this._stripe._emitter.emit("response",u),o.toJSON().then(e=>{if(e.error){let r;throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=s,e.error.statusCode=l,e.error.requestId=a,401===l?new J(e.error):403===l?new Q(e.error):429===l?new X(e.error):"v2"===t?U(e.error):H(e.error)}return e},e=>{throw new V({message:"Invalid JSON received from the Stripe API",exception:e,requestId:s["request-id"]})}).then(e=>{this._recordRequestMetrics(a,u.elapsed,r);let t=o.getRawResponse();this._addHeadersDirectlyToObject(t,s),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:t}),i(null,e)},e=>i(e,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,t,r,i){return!!(i&&0===t&&m.CONNECTION_CLOSED_ERROR_CODES.includes(i.code))||!(t>=r)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&!!("true"===e.getHeaders()["stripe-should-retry"]||409===e.getStatusCode()||e.getStatusCode()>=500))}_getSleepTimeInMS(e,t=null){let r=this._stripe.getInitialNetworkRetryDelay(),i=Math.min(r*Math.pow(2,e-1),this._stripe.getMaxNetworkRetryDelay());return i*=.5*(1+Math.random()),i=Math.max(r,i),Number.isInteger(t)&&t<=60&&(i=Math.max(i,t)),1e3*i}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t,r){let i=this._getMaxNetworkRetries(t),o=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===r){if("POST"===e||"DELETE"===e)return o()}else if("v1"===r&&"POST"===e&&i>0)return o();return null}_makeHeaders({contentType:e,contentLength:t,apiVersion:r,clientUserAgent:i,method:o,userSuppliedHeaders:s,userSuppliedSettings:a,stripeAccount:l,stripeContext:u,apiMode:c}){let h={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(c),"X-Stripe-Client-User-Agent":i,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":l,"Stripe-Context":u,"Idempotency-Key":this._defaultIdempotencyKey(o,a,c)},d="POST"==o||"PUT"==o||"PATCH"==o;return(d||t)&&(d||R(`${o} method had non-zero contentLength but no payload is expected for this verb`),h["Content-Length"]=t),Object.assign(j(h),s&&"object"==typeof s?Object.keys(s).reduce((e,t)=>(e[t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")]=s[t],e),{}):s)}_getUserAgentString(e){let t=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${t} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0)return JSON.stringify({last_request_metrics:this._stripe._prevRequestMetrics.shift()})}_recordRequestMetrics(e,t,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)R("Request metrics buffer is full, dropping telemetry message.");else{let i={request_id:e,request_duration_ms:t};r&&r.length>0&&(i.usage=r),this._stripe._prevRequestMetrics.push(i)}}_rawRequest(e,t,r,i){return new Promise((o,s)=>{let a;try{let o=e.toUpperCase();if("POST"!==o&&r&&0!==Object.keys(r).length)throw Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let s=[].slice.call([r,i]),l=A(s),u="POST"===o?Object.assign({},l):null,c=k(s),h=c.headers,d=c.authenticator;a={requestMethod:o,requestPath:t,bodyData:u,queryData:{},authenticator:d,headers:h,host:c.host,streaming:!!c.streaming,settings:{},usage:["raw_request"]}}catch(e){s(e);return}let{headers:l,settings:u}=a,c=a.authenticator;this._request(a.requestMethod,a.host,t,a.bodyData,c,{headers:l,settings:u,streaming:a.streaming},a.usage,function(e,t){e?s(e):o(t)})})}_request(e,t,r,i,o,s,a=[],l,u=null){var c;let h;o=null!=(c=null!=o?o:this._stripe._authenticator)?c:null;let d=N(r),f=(e,t,r,i,o)=>setTimeout(e,this._getSleepTimeInMS(i,o),t,r,i+1),p=(i,u,c)=>{let y=s.settings&&s.settings.timeout&&Number.isInteger(s.settings.timeout)&&s.settings.timeout>=0?s.settings.timeout:this._stripe.getApiField("timeout"),v={host:t||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},u),body:h,protocol:this._stripe.getApiField("protocol")};o(v).then(()=>{let t=this._stripe.getApiField("httpClient").makeRequest(v.host,v.port,v.path,v.method,v.headers,v.body,v.protocol,y),o=Date.now(),h=j({api_version:i,account:$(u["Stripe-Account"]),idempotency_key:$(u["Idempotency-Key"]),method:e,path:r,request_start_time:o}),g=c||0,P=this._getMaxNetworkRetries(s.settings||{});this._stripe._emitter.emit("request",h),t.then(e=>{if(ea._shouldRetry(e,g,P)){var t;return f(p,i,u,g,Number(Array.isArray(t=e.getHeaders()["retry-after"])?t[0]:t))}return s.streaming&&400>e.getStatusCode()?this._streamingResponseHandler(h,a,l)(e):this._jsonResponseHandler(h,d,a,l)(e)}).catch(e=>ea._shouldRetry(null,g,P,e)?f(p,i,u,g,null):l(new Y({message:e.code&&e.code===m.TIMEOUT_ERROR_CODE?`Request aborted due to timeout being reached (${y}ms)`:ea._generateConnectionErrorMessage(g),detail:e})))}).catch(e=>{throw new z({message:"Unable to authenticate the request",exception:e})})},y=(t,r)=>{if(t)return l(t);h=r,this._stripe.getClientUserAgent(t=>{let r=this._stripe.getApiField("version"),i=this._makeHeaders({contentType:"v2"==d?"application/json":"application/x-www-form-urlencoded",contentLength:h.length,apiVersion:r,clientUserAgent:t,method:e,userSuppliedHeaders:s.headers,userSuppliedSettings:s.settings,stripeAccount:"v2"==d?null:this._stripe.getApiField("stripeAccount"),stripeContext:"v2"==d?this._stripe.getApiField("stripeContext"):null,apiMode:d});p(r,i,0)})};if(u)u(e,i,s.headers,y);else{let e;y(null,e="v2"==d?i?JSON.stringify(i,I):"":O(i||{},d))}}}class el{constructor(e,t,r,i){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=r,this.stripeResource=i}async iterate(e){if(!(e&&e.data&&"number"==typeof e.data.length))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let t=ep(this.requestArgs);if(this.index<e.data.length){let r=t?e.data.length-1-this.index:this.index,i=e.data[r];return this.index+=1,{value:i,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}}class eu extends el{getNextPage(e){let t=ep(this.requestArgs),r=function(e,t){let r=t?0:e.data.length-1,i=e.data[r],o=i&&i.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:r})}}class ec extends el{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class eh{constructor(e,t,r,i){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=t,this.spec=r,this.stripeResource=i}async turnPage(){let e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;let t=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(t.next_page_url),this.currentPageIterator=Promise.resolve(t.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let e=(await this.currentPageIterator).next();if(!e.done)return{done:!1,value:e.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let t=e.next();return t.done?{done:!0,value:void 0}:{done:!1,value:t.value}}}let ed=(e,t,r,i)=>{let o=N(r.fullPath||r.path);return"v2"!==o&&"search"===r.methodType?ef(new ec(i,t,r,e)):"v2"!==o&&"list"===r.methodType?ef(new eu(i,t,r,e)):"v2"===o&&"list"===r.methodType?ef(new eh(i,t,r,e)):null},ef=e=>{var t,r;let i=(t=(...t)=>e.next(...t),function(){var e,r;let i=[].slice.call(arguments),o=function(e){if(0===e.length)return;let t=e[0];if("function"!=typeof t)throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,r){r(t(e))}}(i),s=function(e){if(e.length<2)return null;let t=e[1];if("function"!=typeof t)throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}(i);if(i.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${i}`);return C((e=t,r=o,new Promise((t,i)=>{e().then(function i(o){if(o.done)return void t();let s=o.value;return new Promise(e=>{r(s,e)}).then(t=>!1===t?i({done:!0,value:void 0}):e().then(i))}).catch(i)})),s)}),o=(r=i,function(e,t){let i=e&&e.limit;if(!i)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(i>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return C(new Promise((e,t)=>{let o=[];r(e=>{if(o.push(e),o.length>=i)return!1}).then(()=>{e(o)}).catch(t)}),t)}),s={autoPagingEach:i,autoPagingToArray:o,next:()=>e.next(),return:()=>({}),["undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"]:()=>s};return s};function ep(e){return!!A([].slice.call(e)).ending_before}function em(e,t){if(this._stripe=e,t)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=x(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=x(this.path),this.initialize(...arguments)}function ey(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let i=r[0].toLowerCase()+r.substring(1),o=new t[r](e);this[i]=o}}function ev(e,t){return function(e){return new ey(e,t)}}em.extend=function(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r},em.method=function(e){if(void 0!==e.path&&void 0!==e.fullPath)throw Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r="function"==typeof t[t.length-1]&&t.pop();e.urlParams=function(e){let t=e.match(/\{\w+\}/g);return t?t.map(e=>e.replace(/[{}]/g,"")):[]}(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let i=C(this._makeRequest(t,e,{}),r);return Object.assign(i,ed(this,t,e,i)),i}},em.MAX_BUFFERED_REQUEST_METRICS=100,em.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if("function"==typeof e){let i=e(t);i&&r.push(i)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,r){var i;let o=(t.method||"GET").toUpperCase(),s=t.usage||[],a=t.urlParams||[],l=t.encode||(e=>e),u=!!t.fullPath,c=x(u?t.fullPath:t.path||""),h=u?t.fullPath:this.createResourcePathWithSymbols(t.path),d=[].slice.call(e),f=a.reduce((e,t)=>{let r=d.shift();if("string"!=typeof r)throw Error(`Stripe: Argument "${t}" must be a string, but got: ${r} (on API request to \`${o} ${h}\`)`);return e[t]=r,e},{}),p=l(Object.assign({},A(d),r)),m=k(d),y=m.host||t.host,v=!!t.streaming||!!m.streaming;if(d.filter(e=>null!=e).length)throw Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${h}\`)`);let g=u?c(f):this.createFullPath(c,f),P=Object.assign(m.headers,t.headers);t.validator&&t.validator(p,{headers:P});let b="GET"===t.method||"DELETE"===t.method;return{requestMethod:o,requestPath:g,bodyData:b?null:p,queryData:b?p:{},authenticator:null!=(i=m.authenticator)?i:null,headers:P,host:null!=y?y:null,streaming:v,settings:m.settings,usage:s}},_makeRequest(e,t,r){return new Promise((i,o)=>{var s;let a;try{a=this._getRequestOpts(e,t,r)}catch(e){o(e);return}let l=0===Object.keys(a.queryData).length,u=[a.requestPath,l?"":"?",O(a.queryData,N(a.requestPath))].join(""),{headers:c,settings:h}=a;this._stripe._requestSender._request(a.requestMethod,a.host,u,a.bodyData,a.authenticator,{headers:c,settings:h,streaming:a.streaming},a.usage,function(e,r){e?o(e):i(t.transformResponseData?t.transformResponseData(r):r)},null==(s=this.requestDataProcessor)?void 0:s.bind(this))})}};let eg=em.method,eP=em.extend({retrieve:eg({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:eg({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:eg({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:eg({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:eg({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:eg({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:eg({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),eb=em.method,e_=em.extend({retrieve:eb({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:eb({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),eT=em.method,eE=em.extend({create:eT({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:eT({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:eT({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:eT({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:eT({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:eT({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),eS=em.method,ew=em.extend({create:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:eS({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),eO=em.method,ex=em.extend({retrieve:eO({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:eO({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:eO({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:eO({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:eO({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),eA=em.method,ek=em.extend({create:eA({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:eA({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:eA({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),ej=em.method,eC=em.extend({create:ej({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:ej({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:ej({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:ej({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),eR=em.method,eG=em.extend({deliverCard:eR({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:eR({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:eR({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:eR({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:eR({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),eD=em.method,eI=em.extend({create:eD({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:eD({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:eD({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:eD({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),eN=em.method,e$=em.extend({create:eN({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:eN({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:eN({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:eN({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),eL=em.method,eq=em.extend({create:eL({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:eL({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:eL({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:eL({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:eL({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),eM=em.method,eF=em.extend({create:eM({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),eB=em.method,eH=em.extend({create:eB({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),eU=em.method,ez=em.extend({retrieve:eU({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),eW=em.method,eK=em.extend({retrieve:eW({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:eW({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),eV=em.method,eJ=em.extend({create:eV({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:eV({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:eV({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:eV({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:eV({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:eV({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),eQ=em.method,eX=em.extend({create:eQ({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:eQ({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:eQ({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),eY=em.method,eZ=em.extend({fundCashBalance:eY({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),e1=em.method,e0=em.extend({create:e1({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:e1({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:e1({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),e8=em.method,e2=em.extend({create:e8({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:e8({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:e8({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:e8({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:e8({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),e3=em.method,e5=em.extend({retrieve:e3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:e3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),e6=em.method,e9=em.extend({create:e6({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:e6({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:e6({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:e6({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:e6({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:e6({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:e6({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:e6({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),e4=em.method,e7=em.extend({retrieve(...e){return e4({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,e)},list(...e){return e4({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return e.related_object&&e.related_object.url?Object.assign(Object.assign({},e),{fetchRelatedObject:()=>e4({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeAccount:e.context}])}):e}}),te=em.method,tt=em.extend({create:te({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:te({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:te({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:te({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),tr=em.method,tn=em.extend({create:tr({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:tr({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:tr({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:tr({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:tr({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:tr({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:tr({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),ti=em.method,to=em.extend({fail:ti({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:ti({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:ti({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),ts=em.method,ta=em.extend({create:ts({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:ts({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:ts({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:ts({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),tl=em.method,tu=em.extend({create:tl({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:tl({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:tl({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:tl({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:tl({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),tc=em.method,th=em.extend({create:tc({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),td=em.method,tf=em.extend({create:td({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),tp=em.method,tm=em.extend({create:tp({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),ty=em.method,tv=em.extend({create:ty({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),tg=em.method,tP=em.extend({create:tg({method:"POST",fullPath:"/v1/billing/meter_events"})}),tb=em.method,t_=em.extend({create:tb({method:"POST",fullPath:"/v2/billing/meter_events"})}),tT=em.method,tE=em.extend({create:tT({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:tT({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:tT({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:tT({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:tT({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:tT({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:tT({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),tS=em.method,tw=em.extend({create:tS({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:tS({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:tS({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:tS({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:tS({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),tO=em.method,tx=em.extend({update:tO({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:tO({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:tO({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:tO({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),tA=em.method,tk=em.extend({create:tA({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:tA({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:tA({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:tA({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),tj=em.method,tC=em.extend({update:tj({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:tj({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:tj({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:tj({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),tR=em.method,tG=em.extend({create:tR({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:tR({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:tR({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:tR({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),tD=em.method,tI=em.extend({activate:tD({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:tD({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:tD({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),tN=em.method,t$=em.extend({create:tN({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:tN({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:tN({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:tN({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),tL=em.method,tq=em.extend({retrieve:tL({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:tL({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),tM=em.method,tF=em.extend({retrieve:tM({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:tM({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),tB=em.method,tH=em.extend({presentPaymentMethod:tB({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:tB({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:tB({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),tU=em.method,tz=em.extend({create:tU({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:tU({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:tU({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:tU({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:tU({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),tW=em.method,tK=em.extend({create:tW({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),tV=em.method,tJ=em.extend({retrieve:tV({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:tV({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),tQ=em.method,tX=em.extend({create:tQ({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),tY=em.method,tZ=em.extend({retrieve:tY({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:tY({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),t1=em.method,t0=em.extend({expire:t1({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),t8=em.method,t2=em.extend({create:t8({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:t8({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:t8({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:t8({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),t3=em.method,t5=em.extend({create:t3({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:t3({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:t3({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),t6=em.method,t9=em.extend({retrieve:t6({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:t6({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),t4=em.method,t7=em.extend({create:t4({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:t4({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:t4({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),re=em.method,rt=em.extend({retrieve:re({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:re({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),rr=em.method,rn=em.extend({create:rr({method:"POST",fullPath:"/v1/apps/secrets"}),list:rr({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:rr({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:rr({method:"GET",fullPath:"/v1/apps/secrets/find"})}),ri=em.method,ro=em.extend({create:ri({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),rs=em.method,ra=em.extend({create:rs({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:rs({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:rs({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:rs({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:rs({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:rs({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),rl=em.method,ru=em.extend({create:rl({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:rl({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),rc=em.method,rh=em.extend({retrieve:rc({method:"GET",fullPath:"/v1/tax/settings"}),update:rc({method:"POST",fullPath:"/v1/tax/settings"})}),rd=em.method,rf=em.extend({retrieve:rd({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:rd({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),rp=em.method,rm=em.extend({create:rp({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:rp({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:rp({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:rp({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:rp({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),ry=em.method,rv=em.extend({retrieve:ry({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:ry({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:ry({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),rg=em.method,rP=em.extend({retrieve:rg({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:rg({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),rb=em.method,r_=em.extend({createForceCapture:rb({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:rb({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:rb({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),rT=em.method,rE=em.extend({retrieve:rT({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:rT({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),rS=em.method,rw=em.extend({retrieve:rS({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:rS({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:rS({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),rO=em.method,rx=em.extend({retrieve:rO({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:rO({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:rO({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:rO({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),rA=em.method,rk=em.extend({retrieve:rA({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:rA({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),rj=em.method,rC=em.extend({create:rj({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:rj({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:rj({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:rj({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),rR=em.method,rG=em.extend({create:rR({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:rR({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:rR({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:rR({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:rR({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),rD=em.method,rI=em.extend({retrieve:rD({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:rD({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),rN=em.method,r$=em.extend({create:rN({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:rN({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:rN({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:rN({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:rN({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:rN({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),rL=em.method,rq=em.extend({create:rL({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?rL({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),rL({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:rL({method:"POST",fullPath:"/v1/accounts/{account}"}),list:rL({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:rL({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:rL({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:rL({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:rL({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:rL({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:rL({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:rL({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:rL({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:rL({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:rL({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:rL({method:"GET",fullPath:"/v1/account"}),retrieveCapability:rL({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:rL({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:rL({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:rL({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:rL({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:rL({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),rM=em.method,rF=em.extend({create:rM({method:"POST",fullPath:"/v1/account_links"})}),rB=em.method,rH=em.extend({create:rB({method:"POST",fullPath:"/v1/account_sessions"})}),rU=em.method,rz=em.extend({create:rU({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:rU({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:rU({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:rU({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),rW=em.method,rK=em.extend({retrieve:rW({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:rW({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:rW({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:rW({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:rW({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:rW({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),rV=em.method,rJ=em.extend({retrieve:rV({method:"GET",fullPath:"/v1/balance"})}),rQ=em.method,rX=em.extend({retrieve:rQ({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:rQ({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),rY=em.method,rZ=em.extend({create:rY({method:"POST",fullPath:"/v1/charges"}),retrieve:rY({method:"GET",fullPath:"/v1/charges/{charge}"}),update:rY({method:"POST",fullPath:"/v1/charges/{charge}"}),list:rY({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:rY({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:rY({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),r1=em.method,r0=em.extend({retrieve:r1({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),r8=em.method,r2=em.extend({retrieve:r8({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:r8({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),r3=em.method,r5=em.extend({create:r3({method:"POST",fullPath:"/v1/coupons"}),retrieve:r3({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:r3({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:r3({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:r3({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),r6=em.method,r9=em.extend({create:r6({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:r6({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:r6({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:r6({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:r6({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:r6({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:r6({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:r6({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),r4=em.method,r7=em.extend({create:r4({method:"POST",fullPath:"/v1/customer_sessions"})}),ne=em.method,nt=em.extend({create:ne({method:"POST",fullPath:"/v1/customers"}),retrieve:ne({method:"GET",fullPath:"/v1/customers/{customer}"}),update:ne({method:"POST",fullPath:"/v1/customers/{customer}"}),list:ne({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:ne({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:ne({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:ne({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:ne({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:ne({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:ne({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:ne({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:ne({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:ne({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:ne({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:ne({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:ne({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:ne({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:ne({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:ne({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:ne({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:ne({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:ne({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:ne({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:ne({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:ne({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:ne({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:ne({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:ne({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),nr=em.method,nn=em.extend({retrieve:nr({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:nr({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:nr({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:nr({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),ni=em.method,no=em.extend({create:ni({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:ni({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),ns=em.method,na=em.extend({retrieve:ns({method:"GET",fullPath:"/v1/events/{id}"}),list:ns({method:"GET",fullPath:"/v1/events",methodType:"list"})}),nl=em.method,nu=em.extend({retrieve:nl({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:nl({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),nc=em.method,nh=em.extend({create:nc({method:"POST",fullPath:"/v1/file_links"}),retrieve:nc({method:"GET",fullPath:"/v1/file_links/{link}"}),update:nc({method:"POST",fullPath:"/v1/file_links/{link}"}),list:nc({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),nd=(e,t,r)=>{let i=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]=`multipart/form-data; boundary=${i}`;let o=new TextEncoder,s=new Uint8Array(0),a=o.encode("\r\n");function l(e){let t=s,r=e instanceof Uint8Array?e:new Uint8Array(o.encode(e));(s=new Uint8Array(t.length+r.length+2)).set(t),s.set(r,t.length),s.set(a,s.length-2)}function u(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let c=function(e){let t={},r=(e,i)=>{Object.entries(e).forEach(([e,o])=>{let s=i?`${i}[${e}]`:e;if(function(e){let t=typeof e;return("function"===t||"object"===t)&&!!e}(o))if(!(o instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(o,"data"))return r(o,s);else t[s]=o;else t[s]=String(o)})};return r(e,null),t}(t);for(let e in c){if(!Object.prototype.hasOwnProperty.call(c,e))continue;let t=c[e];l(`--${i}`),Object.prototype.hasOwnProperty.call(t,"data")?(l(`Content-Disposition: form-data; name=${u(e)}; filename=${u(t.name||"blob")}`),l(`Content-Type: ${t.type||"application/octet-stream"}`),l(""),l(t.data)):(l(`Content-Disposition: form-data; name=${u(e)}`),l(""),l(t))}return l(`--${i}--`),s},nf=em.method,np=em.extend({create:nf({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:nf({method:"GET",fullPath:"/v1/files/{file}"}),list:nf({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:function(e,t,r,i){if(t=t||{},"POST"!==e)return i(null,O(t));this._stripe._platformFunctions.tryBufferData(t).then(t=>i(null,nd(e,t,r))).catch(e=>i(e,null))}}),nm=em.method,ny=em.extend({create:nm({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:nm({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:nm({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:nm({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:nm({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),nv=em.method,ng=em.extend({retrieve:nv({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:nv({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),nP=em.method,nb=em.extend({retrieve:nP({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:nP({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:nP({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:nP({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),n_=em.method,nT=em.extend({create:n_({method:"POST",fullPath:"/v1/invoices"}),retrieve:n_({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:n_({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:n_({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:n_({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:n_({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:n_({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:n_({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:n_({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),nE=em.method,nS=em.extend({retrieve:nE({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),nw=em.method,nO="connect.stripe.com",nx=em.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let r="oauth/authorize";return(t=t||{}).express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${nO}/${r}?${O(e)}`},token:nw({method:"POST",path:"oauth/token",host:nO}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),nw({method:"POST",path:"oauth/deauthorize",host:nO}).apply(this,[e,...t])}}),nA=em.method,nk=em.extend({create:nA({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:nA({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:nA({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:nA({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:nA({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),nj=em.method,nC=em.extend({create:nj({method:"POST",fullPath:"/v1/payment_links"}),retrieve:nj({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:nj({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:nj({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:nj({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),nR=em.method,nG=em.extend({create:nR({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:nR({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:nR({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:nR({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),nD=em.method,nI=em.extend({create:nD({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:nD({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:nD({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:nD({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:nD({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),nN=em.method,n$=em.extend({create:nN({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:nN({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:nN({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:nN({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:nN({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:nN({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),nL=em.method,nq=em.extend({create:nL({method:"POST",fullPath:"/v1/payouts"}),retrieve:nL({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:nL({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:nL({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:nL({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:nL({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),nM=em.method,nF=em.extend({create:nM({method:"POST",fullPath:"/v1/plans"}),retrieve:nM({method:"GET",fullPath:"/v1/plans/{plan}"}),update:nM({method:"POST",fullPath:"/v1/plans/{plan}"}),list:nM({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:nM({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),nB=em.method,nH=em.extend({create:nB({method:"POST",fullPath:"/v1/prices"}),retrieve:nB({method:"GET",fullPath:"/v1/prices/{price}"}),update:nB({method:"POST",fullPath:"/v1/prices/{price}"}),list:nB({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:nB({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),nU=em.method,nz=em.extend({create:nU({method:"POST",fullPath:"/v1/products"}),retrieve:nU({method:"GET",fullPath:"/v1/products/{id}"}),update:nU({method:"POST",fullPath:"/v1/products/{id}"}),list:nU({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:nU({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:nU({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:nU({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:nU({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:nU({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:nU({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),nW=em.method,nK=em.extend({create:nW({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:nW({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:nW({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:nW({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),nV=em.method,nJ=em.extend({create:nV({method:"POST",fullPath:"/v1/quotes"}),retrieve:nV({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:nV({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:nV({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:nV({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:nV({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:nV({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:nV({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:nV({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:nV({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),nQ=em.method,nX=em.extend({create:nQ({method:"POST",fullPath:"/v1/refunds"}),retrieve:nQ({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:nQ({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:nQ({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:nQ({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),nY=em.method,nZ=em.extend({retrieve:nY({method:"GET",fullPath:"/v1/reviews/{review}"}),list:nY({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:nY({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),n1=em.method,n0=em.extend({list:n1({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),n8=em.method,n2=em.extend({create:n8({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:n8({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:n8({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:n8({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:n8({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:n8({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:n8({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),n3=em.method,n5=em.extend({create:n3({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:n3({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:n3({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:n3({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),n6=em.method,n9=em.extend({create:n6({method:"POST",fullPath:"/v1/sources"}),retrieve:n6({method:"GET",fullPath:"/v1/sources/{source}"}),update:n6({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:n6({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:n6({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),n4=em.method,n7=em.extend({create:n4({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:n4({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:n4({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:n4({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:n4({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),ie=em.method,it=em.extend({create:ie({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:ie({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:ie({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:ie({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:ie({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:ie({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),ir=em.method,ii=em.extend({create:ir({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ir({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ir({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ir({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ir({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ir({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:ir({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:ir({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ir({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),io=em.method,is=em.extend({retrieve:io({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:io({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),ia=em.method,il=em.extend({create:ia({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:ia({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:ia({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:ia({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),iu=em.method,ic=em.extend({create:iu({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:iu({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:iu({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:iu({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),ih=em.method,id=em.extend({create:ih({method:"POST",fullPath:"/v1/tokens"}),retrieve:ih({method:"GET",fullPath:"/v1/tokens/{token}"})}),ip=em.method,im=em.extend({create:ip({method:"POST",fullPath:"/v1/topups"}),retrieve:ip({method:"GET",fullPath:"/v1/topups/{topup}"}),update:ip({method:"POST",fullPath:"/v1/topups/{topup}"}),list:ip({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:ip({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),iy=em.method,iv=em.extend({create:iy({method:"POST",fullPath:"/v1/transfers"}),retrieve:iy({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:iy({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:iy({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:iy({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:iy({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:iy({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:iy({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),ig=em.method,iP=em.extend({create:ig({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:ig({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:ig({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:ig({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:ig({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),ib=ev("apps",{Secrets:rn}),i_=ev("billing",{Alerts:eE,CreditBalanceSummary:ez,CreditBalanceTransactions:eK,CreditGrants:eJ,MeterEventAdjustments:th,MeterEvents:tP,Meters:tE}),iT=ev("billingPortal",{Configurations:e$,Sessions:ro}),iE=ev("checkout",{Sessions:ra}),iS=ev("climate",{Orders:tw,Products:tF,Suppliers:rf}),iw=ev("entitlements",{ActiveEntitlements:e_,Features:tt}),iO=ev("financialConnections",{Accounts:eP,Sessions:ru,Transactions:rE}),ix=ev("forwarding",{Requests:t7}),iA=ev("identity",{VerificationReports:rI,VerificationSessions:r$}),ik=ev("issuing",{Authorizations:ex,Cardholders:eC,Cards:eI,Disputes:e2,PersonalizationDesigns:t$,PhysicalBundles:tq,Tokens:rv,Transactions:rw}),ij=ev("radar",{EarlyFraudWarnings:e5,ValueListItems:rC,ValueLists:rG}),iC=ev("reporting",{ReportRuns:t5,ReportTypes:t9}),iR=ev("sigma",{ScheduledQueryRuns:rt}),iG=ev("tax",{Calculations:ek,Registrations:t2,Settings:rh,Transactions:rx}),iD=ev("terminal",{Configurations:eq,ConnectionTokens:eH,Locations:tu,Readers:tz}),iI=ev("testHelpers",{ConfirmationTokens:eF,Customers:eZ,Refunds:t0,TestClocks:rm,Issuing:ev("issuing",{Authorizations:ew,Cards:eG,PersonalizationDesigns:tI,Transactions:r_}),Terminal:ev("terminal",{Readers:tH}),Treasury:ev("treasury",{InboundTransfers:to,OutboundPayments:tx,OutboundTransfers:tC,ReceivedCredits:tK,ReceivedDebits:tX})}),iN=ev("treasury",{CreditReversals:eX,DebitReversals:e0,FinancialAccounts:tn,InboundTransfers:ta,OutboundPayments:tk,OutboundTransfers:tG,ReceivedCredits:tJ,ReceivedDebits:tZ,TransactionEntries:rP,Transactions:rk}),i$=ev("v2",{Billing:ev("billing",{MeterEventAdjustments:tf,MeterEventSession:tm,MeterEventStream:tv,MeterEvents:t_}),Core:ev("core",{EventDestinations:e9,Events:e7})}),iL="api.stripe.com",iq="/v1/",iM="2025-06-30.basil",iF=["name","version","url","partner_id"],iB=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],iH=e=>new ea(e,em.MAX_BUFFERED_REQUEST_METRICS),iU=function(e,t=iH){function r(o,s={}){if(!(this instanceof r))return new r(o,s);let a=this._getPropsFromConfig(s);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let l=a.httpAgent||null;this._api={host:a.host||iL,port:a.port||"443",protocol:a.protocol||"https",basePath:iq,version:a.apiVersion||iM,timeout:G("timeout",a.timeout,8e4),maxNetworkRetries:G("maxNetworkRetries",a.maxNetworkRetries,2),agent:l,httpClient:a.httpClient||(l?this._platformFunctions.createNodeHttpClient(l):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:a.stripeAccount||null,stripeContext:a.stripeContext||null};let u=a.typescript||!1;u!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=u),a.appInfo&&this._setAppInfo(a.appInfo),this._prepResources(),this._setAuthenticator(o,a.authenticator),this.errors=i,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=!1!==a.telemetry,this._requestSender=t(this),this.StripeResource=r.StripeResource}return r.PACKAGE_VERSION="18.3.0",r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}),r.StripeResource=em,r.resources=o,r.HttpClient=m,r.HttpClientResponse=y,r.CryptoProvider=l,r.webhooks=function(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,r,i,o,s,a){try{if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(e,r,i,o||t.DEFAULT_TOLERANCE,s,a)}catch(e){throw e instanceof u&&(e.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),e}return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},async constructEventAsync(e,r,i,o,s,a){if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(e,r,i,o||t.DEFAULT_TOLERANCE,s,a),e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},generateTestHeaderString:function(e){let t=c(e),r=t.signature||t.cryptoProvider.computeHMACSignature(t.payloadString,t.secret);return t.generateHeaderString(r)},generateTestHeaderStringAsync:async function(e){let t=c(e),r=t.signature||await t.cryptoProvider.computeHMACSignatureAsync(t.payloadString,t.secret);return t.generateHeaderString(r)}},r={EXPECTED_SCHEME:"v1",verifyHeader(e,t,r,a,u,c){let{decodedHeader:h,decodedPayload:d,details:f,suspectPayloadType:p}=o(e,t,this.EXPECTED_SCHEME),m=/\s/.test(r),y=(u=u||l()).computeHMACSignature(i(d,f),r);return s(d,h,f,y,a,p,m,c),!0},async verifyHeaderAsync(e,t,r,a,u,c){let{decodedHeader:h,decodedPayload:d,details:f,suspectPayloadType:p}=o(e,t,this.EXPECTED_SCHEME),m=/\s/.test(r);u=u||l();let y=await u.computeHMACSignatureAsync(i(d,f),r);return s(d,h,f,y,a,p,m,c)}};function i(e,t){return`${t.timestamp}.${e}`}function o(e,t,r){var i,o;if(!e)throw new Z(t,e,{message:"No webhook payload was provided."});let s="string"!=typeof e&&!(e instanceof Uint8Array),a=new TextDecoder("utf8"),l=e instanceof Uint8Array?a.decode(e):e;if(Array.isArray(t))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new Z(t,e,{message:"No stripe-signature header value was provided."});let u=t instanceof Uint8Array?a.decode(t):t,c=(i=u,o=r,"string"!=typeof i?null:i.split(",").reduce((e,t)=>{let r=t.split("=");return"t"===r[0]&&(e.timestamp=parseInt(r[1],10)),r[0]===o&&e.signatures.push(r[1]),e},{timestamp:-1,signatures:[]}));if(!c||-1===c.timestamp)throw new Z(u,l,{message:"Unable to extract timestamp and signatures from header"});if(!c.signatures.length)throw new Z(u,l,{message:"No signatures found with expected scheme"});return{decodedPayload:l,decodedHeader:u,details:c,suspectPayloadType:s}}function s(t,r,i,o,s,a,l,u){let c=!!i.signatures.filter(e.secureCompare.bind(e,o)).length,h="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",d=l?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!c){if(a)throw new Z(r,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+h+"\n"+d});throw new Z(r,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+h+"\n"+d})}let f=Math.floor(("number"==typeof u?u:Date.now())/1e3)-i.timestamp;if(s>0&&f>s)throw new Z(r,t,{message:"Timestamp outside the tolerance zone"});return!0}let a=null;function l(){return a||(a=e.createDefaultCryptoProvider()),a}function c(e){if(!e)throw new z({message:"Options are required"});let t=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),i=e.scheme||r.EXPECTED_SCHEME,o=e.cryptoProvider||l(),s=`${t}.${e.payload}`;return Object.assign(Object.assign({},e),{timestamp:t,scheme:i,cryptoProvider:o,payloadString:s,generateHeaderString:e=>`t=${t},${i}=${e}`})}return t.signature=r,t}(e),r.errors=i,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(e,t,r,i){return this._requestSender._rawRequest(e,t,r,i)},_setAuthenticator(e,t){if(e&&t)throw Error("Can't specify both apiKey and authenticator");if(!e&&!t)throw Error("Neither apiKey nor config.authenticator provided");this._authenticator=e?D(e):t},_setAppInfo(e){if(e&&"object"!=typeof e)throw Error("AppInfo must be an object.");if(e&&!e.name)throw Error("AppInfo.name is required");e=e||{},this._appInfo=iF.reduce((t,r)=>("string"==typeof e[r]&&((t=t||{})[r]=e[r]),t),{})},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return iL;case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return iq;case"DEFAULT_API_VERSION":return iM;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 5;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return .5}return r[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,r){let i=G(e,t,r);this._setApiField(e,i)},getMaxNetworkRetryDelay:()=>5,getInitialNetworkRetryDelay:()=>.5,getClientUserAgent(e){return this.getClientUserAgentSeeded(r.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then(r=>{var i;let o={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=encodeURIComponent(null!=(i=e[t])?i:"null"));o.uname=encodeURIComponent(r||"UNKNOWN");let s=this.getApiField("httpClient");s&&(o.httplib=encodeURIComponent(s.getClientName())),this._appInfo&&(o.application=this._appInfo),t(JSON.stringify(o))})},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let e in o)Object.prototype.hasOwnProperty.call(o,e)&&(this["OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)]=new o[e](this))},_getPropsFromConfig(e){if(!e)return{};let t="string"==typeof e;if(!(e===Object(e)&&!Array.isArray(e))&&!t)throw Error("Config must either be an object or a string");if(t)return{apiVersion:e};if(Object.keys(e).filter(e=>!iB.includes(e)).length>0)throw Error(`Config object may only contain the following: ${iB.join(", ")}`);return e},parseThinEvent(e,t,r,i,o,s){return this.webhooks.constructEvent(e,t,r,i,o,s)}},r}(new es)},98539:e=>{"use strict";let t=e=>e&&"string"==typeof e.message,r=e=>{if(!e)return;let r=e.cause;if("function"!=typeof r)return t(r)?r:void 0;{let r=e.cause();return t(r)?r:void 0}},i=(e,o)=>{if(!t(e))return"";let s=e.stack||"";if(o.has(e))return s+"\ncauses have become circular...";let a=r(e);return a?(o.add(e),s+"\ncaused by: "+i(a,o)):s},o=(e,i,s)=>{if(!t(e))return"";let a=s?"":e.message||"";if(i.has(e))return a+": ...";let l=r(e);if(!l)return a;{i.add(e);let t="function"==typeof e.cause;return a+(t?"":": ")+o(l,i,t)}};e.exports={isErrorLike:t,getErrorCause:r,stackWithCauses:e=>i(e,new Set),messageWithCauses:e=>o(e,new Set)}},98895:(e,t,r)=>{"use strict";let i=r(6524),{mapHttpRequest:o,mapHttpResponse:s}=r(20760),a=r(18616),l=r(65049),{lsCacheSym:u,chindingsSym:c,writeSym:h,serializersSym:d,formatOptsSym:f,endSym:p,stringifiersSym:m,stringifySym:y,stringifySafeSym:v,wildcardFirstSym:g,nestedKeySym:P,formattersSym:b,messageKeySym:_,errorKeySym:T,nestedKeyStrSym:E,msgPrefixSym:S}=r(69185),{isMainThread:w}=r(73566),O=r(86501);function x(){}function A(e){let t="",r=0,i=!1,o=255,s=e.length;if(s>100)return JSON.stringify(e);for(var a=0;a<s&&o>=32;a++)(34===(o=e.charCodeAt(a))||92===o)&&(t+=e.slice(r,a)+"\\",r=a,i=!0);return i?t+=e.slice(r):t=e,o<32?JSON.stringify(e):'"'+t+'"'}function k(e){let t=new a(e);return t.on("error",function e(r){if("EPIPE"===r.code){t.write=x,t.end=x,t.flushSync=x,t.destroy=x;return}t.removeListener("error",e),t.emit("error",r)}),!e.sync&&w&&(l.register(t,j),t.on("close",function(){l.unregister(t)})),t}function j(e,t){e.destroyed||("beforeExit"===t?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}e.exports={noop:x,buildSafeSonicBoom:k,asChindings:function(e,t){let r,i=e[c],o=e[y],s=e[v],a=e[m],l=a[g],u=e[d];for(let c in t=(0,e[b].bindings)(t))if(r=t[c],!0===("level"!==c&&"serializers"!==c&&"formatters"!==c&&"customLevels"!==c&&t.hasOwnProperty(c)&&void 0!==r)){if(r=u[c]?u[c](r):r,void 0===(r=(a[c]||l||o)(r,s)))continue;i+=',"'+c+'":'+r}return i},asJson:function(e,t,r,i){let o,s=this[y],a=this[v],l=this[m],h=this[p],f=this[c],S=this[d],w=this[b],O=this[_],x=this[T],k=this[u][r]+i;k+=f,w.log&&(e=w.log(e));let j=l[g],C="";for(let t in e)if(o=e[t],Object.prototype.hasOwnProperty.call(e,t)&&void 0!==o){S[t]?o=S[t](o):t===x&&S.err&&(o=S.err(o));let e=l[t]||j;switch(typeof o){case"undefined":case"function":continue;case"number":!1===Number.isFinite(o)&&(o=null);case"boolean":e&&(o=e(o));break;case"string":o=(e||A)(o);break;default:o=(e||s)(o,a)}if(void 0===o)continue;C+=","+A(t)+":"+o}let R="";if(void 0!==t){o=S[O]?S[O](t):t;let e=l[O]||j;switch(typeof o){case"function":break;case"number":!1===Number.isFinite(o)&&(o=null);case"boolean":e&&(o=e(o)),R=',"'+O+'":'+o;break;case"string":R=',"'+O+'":'+(o=(e||A)(o));break;default:R=',"'+O+'":'+(o=(e||s)(o,a))}}return this[P]&&C?k+this[E]+C.slice(1)+"}"+R+h:k+C+R+h},genLog:function(e,t){if(!t)return r;return function(...i){t.call(this,i,r,e)};function r(t,...a){if("object"==typeof t){let r,l=t;null!==t&&(t.method&&t.headers&&t.socket?t=o(t):"function"==typeof t.setHeader&&(t=s(t))),null===l&&0===a.length?r=[null]:(l=a.shift(),r=a),"string"==typeof this[S]&&null!=l&&(l=this[S]+l),this[h](t,i(l,r,this[f]),e)}else{let r=void 0===t?a.shift():t;"string"==typeof this[S]&&null!=r&&(r=this[S]+r),this[h](null,i(r,a,this[f]),e)}}},createArgsNormalizer:function(e){return function(t,r,i={},o){if("string"==typeof i)o=k({dest:i}),i={};else if("string"==typeof o){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");o=k({dest:o})}else if(i instanceof a||i.writable||i._writableState)o=i,i={};else if(i.transport){let e;if(i.transport instanceof a||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&"function"==typeof i.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");i.customLevels&&(e=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),o=O({caller:r,...i.transport,levels:e})}if((i=Object.assign({},e,i)).serializers=Object.assign({},e.serializers,i.serializers),i.formatters=Object.assign({},e.formatters,i.formatters),i.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:s,onChild:l}=i;if(!1===s&&(i.level="silent"),l||(i.onChild=x),!o){var u;o=(u=process.stdout).write!==u.constructor.prototype.write?process.stdout:k({fd:process.stdout.fd||1})}return{opts:i,stream:o}}},stringify:function(e,t){try{return JSON.stringify(e)}catch(r){try{return(t||this[v])(e)}catch(e){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(e,t,r){return{level:e,bindings:t,log:r}},normalizeDestFileDescriptor:function(e){let t=Number(e);return"string"==typeof e&&Number.isFinite(t)?t:void 0===e?1:e}}}};